2025-06-09 09:01:37,838 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:01:37,840 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:01:37,858 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:775)
2025-06-09 09:01:38,193 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:01:38,193 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:01:40,411 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:902)
2025-06-09 09:01:40,663 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:01:40,666 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:01:40,672 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:01:40,679 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:01:40,688 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:01:40,754 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:01:40,756 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:01:40,757 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:01:41,570 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.71s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:364)
2025-06-09 09:01:41,570 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:387)
2025-06-09 09:01:41,570 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 09:01:41,571 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 09:01:41,572 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 09:01:41,573 - webhook_logger - INFO - üîé INDEX/USD: Entry=1.17, Now=1.21, Qty=43.1049, PnL%=3.42% (websocket_helper.py:701)
2025-06-09 09:01:41,574 - webhook_logger - INFO - üí∞ TP trigger for INDEX/USD: 3.42% (websocket_helper.py:704)
2025-06-09 09:01:41,680 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 09:01:41,680 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 09:01:41,681 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 09:01:41,681 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 09:01:41,690 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 09:01:41,691 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 09:01:41,691 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 09:01:41,691 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 09:24:00,319 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:24:00,319 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:24:17,690 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:775)
2025-06-09 09:24:17,694 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:24:17,696 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:24:18,369 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:24:18,370 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:24:24,901 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:24:24,908 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:24:24,911 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:24:24,914 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:24:25,052 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:24:25,054 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:24:25,054 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:24:25,075 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:36:21,269 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:36:21,269 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:36:22,996 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:775)
2025-06-09 09:36:23,615 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:36:23,615 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:36:31,494 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1103, in create_connection
    transport, protocol = await self._create_connection_transport(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1133, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:36:31,495 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1103, in create_connection
    transport, protocol = await self._create_connection_transport(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1133, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:36:31,927 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:36:31,943 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:36:31,945 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:36:31,948 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 12:58:35,284 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 12:58:35,284 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 12:58:35,304 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 0.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 12:58:35,304 - webhook_logger - ERROR - ‚ùå refresh_market_data inner loop error: 'AttributeError' object does not support item assignment (listener.py:398)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 384, in refresh_market_data
    new_market_data["last_updated"] = datetime.utcnow()
TypeError: 'AttributeError' object does not support item assignment
2025-06-09 12:58:35,304 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 12:58:35,307 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 12:58:35,316 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 12:58:35,317 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 12:58:36,021 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 12:58:36,089 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 12:58:36,091 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 12:58:36,098 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 12:58:36,102 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 12:58:36,104 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 12:58:36,104 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 12:58:36,109 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 12:58:37,041 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 12:58:37,042 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 12:58:37,042 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 12:58:37,042 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 12:58:37,096 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 12:58:37,110 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 12:58:37,110 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 12:58:37,110 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 12:58:37,110 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 12:59:05,309 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 12:59:05,310 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 12:59:05,315 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 12:59:05,332 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 12:59:11,023 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 12:59:11,024 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 12:59:11,034 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 0.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 13:33:06,907 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 13:33:06,907 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 13:33:13,317 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 13:33:15,979 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 13:33:15,979 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 13:33:16,669 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 13:33:16,671 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 13:33:16,673 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 13:33:16,690 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 13:33:16,692 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 13:33:16,693 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 13:33:16,697 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 13:33:16,753 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 13:33:16,779 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 9.86s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 13:33:16,780 - webhook_logger - ERROR - ‚ùå ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è      new_market_data is empty! Skipping update.     ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è ‚ùå (listener.py:367)
2025-06-09 13:33:16,780 - webhook_logger - ERROR - ‚ùå ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è    new_order_management is empty! Skipping update. ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è ‚ùå (listener.py:370)
2025-06-09 13:33:21,511 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 4.73s (listener.py:386)
2025-06-09 14:51:53,949 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:51:53,950 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:51:53,962 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 14:51:54,396 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:51:54,396 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:51:55,045 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 14:51:55,191 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 14:51:55,193 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 14:51:55,196 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 14:51:55,198 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 14:51:55,201 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 14:51:55,202 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 14:51:55,203 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 14:51:55,313 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 14:51:56,243 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 2.28s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:51:56,243 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:51:56,243 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:51:56,243 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:51:56,244 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:51:56,246 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:51:56,248 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 14:51:56,248 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 14:51:56,248 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 14:51:56,248 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 14:51:56,249 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 14:51:56,249 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 14:51:56,249 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 14:51:56,249 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 14:51:56,250 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:51:56,251 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 14:51:56,251 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:52:29,245 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.28s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:52:29,245 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:52:29,245 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:52:29,245 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:52:29,247 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:52:29,249 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:52:29,250 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:52:29,250 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 14:52:29,251 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:52:53,951 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:52:53,951 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:52:54,419 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:52:54,420 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:52:58,754 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.79s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:52:58,754 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:52:58,754 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:52:58,755 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:52:58,756 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:52:58,758 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:52:58,762 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:52:58,762 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 14:52:58,762 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:53:29,233 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.27s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:53:29,233 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:53:29,234 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:53:29,234 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:53:29,235 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:53:29,237 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:53:29,238 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:53:29,238 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.00s (listener.py:393)
2025-06-09 14:53:29,238 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:53:53,952 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:53:53,952 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:53:54,424 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:53:54,424 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:53:59,866 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.90s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:53:59,866 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:53:59,866 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:53:59,866 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:53:59,868 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:53:59,870 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:53:59,876 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:53:59,877 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 14:53:59,877 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:54:29,447 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.48s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:54:29,448 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:54:29,448 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:54:29,448 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:54:29,450 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:54:29,451 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:54:29,452 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:54:29,452 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.00s (listener.py:393)
2025-06-09 14:54:29,452 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:54:33,237 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:54:33,239 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:54:33,242 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:54:33,254 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:54:43,271 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:54:43,272 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:54:43,282 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 14:54:43,667 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:54:43,667 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:54:44,301 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 14:54:44,315 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 14:54:44,367 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 14:54:44,370 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 14:54:44,402 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 14:54:44,402 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 14:54:44,403 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 14:54:44,483 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 14:54:44,483 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 14:54:44,483 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 14:54:44,659 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 14:54:48,079 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.80s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:54:48,080 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:54:48,080 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:54:48,080 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:54:48,086 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:54:48,088 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:54:48,091 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 14:54:48,091 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 14:54:48,092 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 14:54:48,093 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 14:54:48,093 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 14:54:48,094 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 14:54:48,096 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:54:48,096 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.02s (listener.py:393)
2025-06-09 14:54:48,096 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:54:48,139 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 14:54:48,248 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 14:54:48,499 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:54:48,673 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:54:48.317312673Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:54:48,673 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:54:48.317350202Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:54:48,673 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:54:48.318283766Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:54:48,674 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:54:48.318414589Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:54:49,934 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:54:55,270 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:55:00,775 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:55:05,688 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:55:10,681 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:55:12,962 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:55:51,873 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:55:51,873 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:55:51,887 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 14:55:52,391 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 14:55:52,391 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 14:55:52,929 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 14:55:52,946 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 14:55:52,961 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 14:55:53,014 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 14:55:53,014 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 14:55:53,014 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 14:55:53,034 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 14:55:53,121 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 14:55:53,121 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 14:55:53,122 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 14:55:53,469 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 14:55:53,660 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 14:55:53,931 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 14:55:53,931 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 14:55:53,932 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 14:55:56,968 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.08s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 14:55:56,969 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 14:55:56,969 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 14:55:56,969 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 14:55:56,971 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 14:55:56,973 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 14:55:56,976 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 14:55:56,977 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 14:55:56,978 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 14:55:56,978 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 14:55:56,985 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 14:55:56,985 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.02s (listener.py:393)
2025-06-09 14:55:56,985 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 14:55:57,216 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:55:57,606 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:55:54.15295361Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:55:57,606 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:55:54.152985395Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:55:57,610 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:55:57.197735711Z', 'sequence_num': 7, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:55:57,611 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T22:55:57.197790152Z', 'sequence_num': 8, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 14:55:57,835 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:56:01,663 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:56:06,937 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 14:56:07,384 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:56:07,384 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:56:07,387 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 14:56:07,394 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:00:54,794 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:00:54,794 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:00:54,806 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:00:55,205 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:00:55,206 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:00:55,754 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:00:55,836 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:00:55,900 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:00:55,913 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:00:56,044 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:00:56,053 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:00:56,053 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:00:56,053 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:00:56,076 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:00:56,077 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:00:56,077 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:00:56,701 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:00:56,838 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:00:56,838 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:00:56,839 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:00:56,965 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 2.16s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:00:56,965 - webhook_logger - ERROR - ‚ùå ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è      new_market_data is empty! Skipping update.     ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è ‚ùå (listener.py:367)
2025-06-09 15:00:56,965 - webhook_logger - ERROR - ‚ùå ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è    new_order_management is empty! Skipping update. ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è ‚ùå (listener.py:370)
2025-06-09 15:00:56,966 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:00:56,966 - webhook_logger - ERROR - Error in monitor_and_update_active_orders: 'USD' (websocket_helper.py:648)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 493, in monitor_and_update_active_orders
    usd_avail = order_management_snapshot.get('non_zero_balances', {})['USD']['available_to_trade_crypto']
KeyError: 'USD'
2025-06-09 15:00:56,966 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.00s (listener.py:393)
2025-06-09 15:00:56,966 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:00:57,046 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:00:57,046 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:00:57,047 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:00:57,047 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:00:57,052 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: 'NoneType' object has no attribute 'get' (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 159, in build_order_data
    cost_basis = self.spot_position.get(asset, {}).get('cost_basis', {}).get('value', 0)
AttributeError: 'NoneType' object has no attribute 'get'
2025-06-09 15:00:57,432 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:00:57.027005419Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:00:57,432 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:00:57.027061163Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:00:57,432 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:00:57.235066578Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:00:57,432 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:00:57.235297689Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:01:00,200 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: 'NoneType' object has no attribute 'get' (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 159, in build_order_data
    cost_basis = self.spot_position.get(asset, {}).get('cost_basis', {}).get('value', 0)
AttributeError: 'NoneType' object has no attribute 'get'
2025-06-09 15:01:05,204 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: 'NoneType' object has no attribute 'get' (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 159, in build_order_data
    cost_basis = self.spot_position.get(asset, {}).get('cost_basis', {}).get('value', 0)
AttributeError: 'NoneType' object has no attribute 'get'
2025-06-09 15:01:10,413 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: 'NoneType' object has no attribute 'get' (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 159, in build_order_data
    cost_basis = self.spot_position.get(asset, {}).get('cost_basis', {}).get('value', 0)
AttributeError: 'NoneType' object has no attribute 'get'
2025-06-09 15:01:15,488 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: 'NoneType' object has no attribute 'get' (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 159, in build_order_data
    cost_basis = self.spot_position.get(asset, {}).get('cost_basis', {}).get('value', 0)
AttributeError: 'NoneType' object has no attribute 'get'
2025-06-09 15:01:20,503 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: 'NoneType' object has no attribute 'get' (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 159, in build_order_data
    cost_basis = self.spot_position.get(asset, {}).get('cost_basis', {}).get('value', 0)
AttributeError: 'NoneType' object has no attribute 'get'
2025-06-09 15:01:21,962 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:01:21,966 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:01:21,969 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:01:21,973 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:03:35,266 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:03:35,266 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:03:35,277 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:03:35,944 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:03:35,945 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:03:36,616 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:03:36,632 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:03:36,637 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:03:36,681 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:03:36,681 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:03:36,682 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:03:36,694 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:03:36,788 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:03:36,789 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:03:36,789 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:03:37,055 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:03:40,183 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.91s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:03:40,184 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:03:40,184 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:03:40,184 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:03:40,186 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:03:40,189 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:03:40,191 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:03:40,191 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:03:40,192 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:03:40,193 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:03:40,193 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:03:40,194 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:03:40,195 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:03:40,195 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:03:40,195 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:03:40,196 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:03:40,364 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:03:40,590 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:03:40,742 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:03:40.387400992Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:03:40,742 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:03:40.387432484Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:03:40,743 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:03:40.387460436Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:03:40,743 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:03:40.387497474Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:03:45,165 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:03:50,334 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:03:55,392 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:04:00,478 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 240, in build_order_data
    spread = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('spread'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:04:04,622 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:04:04,625 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:04:04,627 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:04:04,636 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:10:51,902 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:10:51,903 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:10:51,913 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:10:52,500 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:10:52,500 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:10:53,140 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:10:53,199 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:10:53,205 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:10:53,218 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:10:53,233 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:10:53,234 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:10:53,234 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:10:53,397 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:10:53,397 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:10:53,398 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:10:53,699 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:10:56,978 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.07s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:10:56,978 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:10:56,978 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:10:56,979 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:10:56,980 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:10:56,982 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:10:56,985 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:10:56,985 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:10:56,986 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:10:56,987 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:10:56,988 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:10:56,988 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:10:56,990 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:10:56,991 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:10:56,991 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:10:56,992 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:10:57,122 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:10:57,356 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 238, in build_order_data
    current_ask = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('ask'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:10:57,505 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:10:57.173655948Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:10:57,505 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:10:57.173688655Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:10:57,506 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:10:57.174957946Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:10:57,506 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:10:57.174994341Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:10:59,287 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 238, in build_order_data
    current_ask = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('ask'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:11:04,442 - webhook_logger - ERROR - Error in build_order_data for  BTC market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:337)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 238, in build_order_data
    current_ask = Decimal(self.bid_ask_spread.get(trading_pair,{}).get('ask'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 15:12:37,457 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:12:37,457 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:12:37,467 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:12:37,762 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:12:37,762 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:12:38,469 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:12:38,471 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:12:38,485 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:12:38,524 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:12:38,530 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:12:38,531 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:12:38,531 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:12:38,615 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:12:38,638 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:12:38,639 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:12:38,639 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:12:41,890 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.43s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:12:41,891 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:12:41,891 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:12:41,891 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:12:41,893 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:12:41,895 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:12:41,898 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:12:41,898 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:12:41,899 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:12:41,900 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:12:41,900 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:12:41,901 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:12:41,903 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:12:41,903 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:12:41,903 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:12:41,904 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:12:42,053 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:13:54,621 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:12:42.095967138Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:13:54,622 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:12:42.096000719Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:13:54,622 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:12:42.096759789Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:13:54,622 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:12:42.096792066Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:16:32,666 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:16:32,666 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:16:32,679 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:16:33,016 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:16:33,017 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:16:33,587 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:16:33,601 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:16:33,618 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:16:33,702 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:16:33,703 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:16:33,703 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:16:33,706 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:16:33,711 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:16:33,787 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:16:33,788 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:16:33,788 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:16:37,057 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.38s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:16:37,057 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:16:37,057 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:16:37,057 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:16:37,059 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:16:37,061 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:16:37,065 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:16:37,065 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:16:37,066 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:16:37,067 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:16:37,067 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:16:37,068 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:16:37,069 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:16:37,070 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:16:37,070 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:16:37,071 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:16:37,218 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:16:37,643 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:16:37.258687854Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:16:37,643 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:16:37.258774866Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:16:37,644 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:16:37.258837249Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:16:37,644 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:16:37.258876581Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:20:00,808 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:20:00,809 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:20:00,824 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:20:01,136 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:20:01,136 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:20:01,649 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:20:01,943 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:20:01,962 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:20:01,976 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:20:01,981 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:20:01,998 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:20:01,999 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:20:01,999 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:20:02,134 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:20:02,134 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:20:02,135 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:20:02,292 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:20:05,246 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.43s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:20:05,246 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:20:05,247 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:20:05,247 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:20:05,248 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:20:05,250 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:20:05,252 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:20:05,252 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:20:05,253 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:20:05,254 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:20:05,255 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:20:05,256 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:20:05,257 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:20:05,257 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:20:05,257 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:20:05,392 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:20:12,888 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:20:05.440016138Z', 'sequence_num': 1, 'events': [{'subscriptions': {'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:20:12,888 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:20:05.440072232Z', 'sequence_num': 2, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:20:12,889 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:20:05.441255124Z', 'sequence_num': 3, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:20:12,889 - webhook_logger - INFO - üíô Confirmed Market Subscriptions: {'channel': 'subscriptions', 'client_id': '', 'timestamp': '2025-06-09T23:20:05.441301322Z', 'sequence_num': 4, 'events': [{'subscriptions': {'heartbeats': ['heartbeats'], 'ticker_batch': ['BTC-USD']}}]} (websocket_helper.py:304)
2025-06-09 15:20:35,246 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.42s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:20:35,246 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:20:35,246 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:20:35,247 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:20:35,248 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:20:35,250 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:20:35,256 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:20:35,256 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:20:35,256 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:21:05,808 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.99s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:21:05,809 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:21:05,809 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:21:05,809 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:21:05,810 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:21:05,813 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:21:05,817 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:21:05,817 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:21:05,817 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:21:35,313 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.49s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:21:35,314 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:21:35,314 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:21:35,314 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:21:35,315 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:21:35,317 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:21:35,321 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:21:35,321 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:21:35,321 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:22:05,192 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.37s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:22:05,192 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:22:05,193 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:22:05,193 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:22:05,194 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:22:05,197 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:22:05,206 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:22:05,206 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:22:05,207 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:22:35,604 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.78s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:22:35,605 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:22:35,605 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:22:35,605 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:22:35,606 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:22:35,608 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:22:35,613 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:22:35,613 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:22:35,613 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:23:05,135 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.31s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:23:05,136 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:23:05,136 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:23:05,136 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:23:05,138 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:23:05,140 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:23:05,148 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:23:05,148 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:23:05,148 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:23:35,316 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.49s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:23:35,317 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:23:35,317 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:23:35,317 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:23:35,319 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:23:35,320 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:23:35,325 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:23:35,325 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:23:35,326 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:24:04,657 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.83s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:24:04,658 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:24:04,658 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:24:04,658 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:24:04,659 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:24:04,661 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:24:04,679 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:24:04,679 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.02s (listener.py:393)
2025-06-09 15:24:04,680 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:24:34,922 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.09s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:24:34,923 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:24:34,923 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:24:34,924 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:24:34,925 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:24:34,926 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:24:34,930 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:24:34,930 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:24:34,930 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:25:05,153 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.32s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:25:05,154 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:25:05,154 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:25:05,154 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:25:05,155 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:25:05,157 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:25:05,162 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:25:05,162 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:25:05,162 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:25:35,439 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.60s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:25:35,440 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:25:35,440 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:25:35,441 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:25:35,442 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:25:35,443 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:25:35,447 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:25:35,448 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:25:35,448 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:26:05,272 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.44s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:26:05,273 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:26:05,273 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:26:05,273 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:26:05,274 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:26:05,276 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:26:05,283 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:26:05,283 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:26:05,283 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:26:53,160 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.99s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:26:53,161 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:26:53,162 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:26:53,162 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:26:53,163 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:26:53,165 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:26:53,167 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:26:53,168 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:26:53,168 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:27:22,250 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.07s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:27:22,250 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:27:22,251 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:27:22,251 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:27:22,253 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:27:22,254 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:27:22,260 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:27:22,260 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:27:22,260 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:27:53,178 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:27:53,178 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:27:53,178 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:27:53,179 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:27:53,180 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:27:53,181 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:27:53,184 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:27:53,184 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:27:53,184 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:28:22,027 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.85s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:28:22,027 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:28:22,028 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:28:22,028 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:28:22,029 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:28:22,031 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:28:22,041 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:28:22,042 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:28:22,042 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:28:52,827 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.65s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:28:52,828 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:28:52,828 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:28:52,828 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:28:52,830 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:28:52,832 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:28:52,842 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:28:52,843 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:28:52,843 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:29:22,000 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.84s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:29:22,000 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:29:22,001 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:29:22,001 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:29:22,002 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:29:22,004 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:29:22,009 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:29:22,010 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:29:22,010 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:29:53,854 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.69s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:29:53,854 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:29:53,855 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:29:53,855 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:29:53,857 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:29:53,861 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:29:53,985 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:29:53,985 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.13s (listener.py:393)
2025-06-09 15:29:53,985 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:30:33,180 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 15.02s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:30:33,180 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:30:33,181 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:30:33,181 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:30:33,182 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:30:33,185 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:30:33,193 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:30:33,193 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:30:33,193 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:30:52,759 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.59s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:30:52,760 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:30:52,760 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:30:52,760 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:30:52,761 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:30:52,763 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:30:52,769 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:30:52,769 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:30:52,769 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:31:23,029 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.86s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:31:23,029 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:31:23,030 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:31:23,030 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:31:23,031 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:31:23,033 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:31:23,042 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:31:23,042 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:31:23,042 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:31:52,679 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.51s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:31:52,680 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:31:52,680 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:31:52,680 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:31:52,681 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:31:52,683 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:31:52,687 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:31:52,687 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:31:52,688 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:32:21,809 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.64s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:32:21,809 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:32:21,809 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:32:21,809 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:32:21,812 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:32:21,814 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:32:21,817 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:32:21,817 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:32:21,817 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:32:52,447 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.28s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:32:52,447 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:32:52,447 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:32:52,448 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:32:52,449 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:32:52,451 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:32:52,454 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:32:52,454 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:32:52,455 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:33:22,090 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.92s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:33:22,091 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:33:22,091 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:33:22,091 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:33:22,092 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:33:22,094 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:33:22,098 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:33:22,099 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:33:22,099 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:33:53,594 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.42s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:33:53,594 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:33:53,595 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:33:53,595 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:33:53,596 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:33:53,598 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:33:53,603 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:33:53,603 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:33:53,603 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:34:21,778 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.60s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:34:21,779 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:34:21,779 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:34:21,779 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:34:21,780 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:34:21,782 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:34:21,784 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:34:21,785 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:34:21,785 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:34:52,264 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.09s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:34:52,264 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:34:52,264 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:34:52,265 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:34:52,266 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:34:52,267 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:34:52,270 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:34:52,271 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:34:52,271 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:35:21,818 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.64s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:35:21,819 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:35:21,819 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:35:21,819 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:35:21,821 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:35:21,822 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:35:21,825 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:35:21,826 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:35:21,826 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:35:52,208 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.03s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:35:52,209 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:35:52,209 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:35:52,209 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:35:52,210 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:35:52,212 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:35:52,215 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:35:52,215 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:35:52,215 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:36:21,944 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.77s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:36:21,944 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:36:21,944 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:36:21,945 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:36:21,946 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:36:21,947 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:36:21,951 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:36:21,951 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:36:21,951 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:36:52,503 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.32s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:36:52,504 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:36:52,504 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:36:52,504 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:36:52,506 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:36:52,507 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:36:52,510 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:36:52,510 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:36:52,510 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:37:21,877 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.70s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:37:21,877 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:37:21,878 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:37:21,878 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:37:21,879 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:37:21,881 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:37:21,883 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:37:21,884 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:37:21,884 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:37:52,609 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.43s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:37:52,610 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:37:52,610 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:37:52,610 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:37:52,611 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:37:52,614 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:37:52,617 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:37:52,617 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:37:52,617 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:38:22,199 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.02s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:38:22,199 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:38:22,200 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:38:22,200 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:38:22,201 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:38:22,206 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:38:22,214 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:38:22,214 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:38:22,214 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:38:52,448 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.26s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:38:52,448 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:38:52,449 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:38:52,449 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:38:52,450 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:38:52,453 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:38:52,456 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:38:52,457 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 15:38:52,457 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:39:12,053 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:39:12,059 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:39:12,061 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:39:12,063 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 15:41:43,953 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:41:43,954 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:41:54,936 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 15:41:54,944 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 15:41:54,946 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 15:41:55,376 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 15:41:55,376 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 15:41:55,865 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 15:41:55,956 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:41:56,145 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:41:56,160 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:41:56,339 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 15:41:56,339 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 15:41:56,339 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 15:41:56,536 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 15:41:56,582 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 15:41:56,582 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 15:41:56,582 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 15:41:59,389 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.46s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:41:59,390 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:41:59,390 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:41:59,390 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:41:59,392 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:41:59,394 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:41:59,396 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:41:59,397 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:42:07,341 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:42:07,343 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 15:42:07,343 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 15:42:10,039 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 15:42:10,041 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:42:10,041 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 10.65s (listener.py:393)
2025-06-09 15:42:10,042 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:42:10,051 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 15:42:10,063 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 15:42:15,753 - webhook_logger - INFO - üü° Adjusted BUY limit price for SHDW-USD: 0.10199999999999999344968415471157641150057315826416015625 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:42:19,476 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"505.05", "limit_price":"0.102", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 15:42:23,951 - webhook_logger - INFO - üü° Adjusted BUY limit price for OGN-USD: 0.05868 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:42:24,414 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: OGN-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.05853'} (webhook_order_types.py:381)
NoneType: None
2025-06-09 15:42:24,587 - webhook_logger - INFO - ‚úÖ Order filled: d32af5ae-87a6-4210-a5b0-2939c4846266 at 0.05868 with fee 0.0749613528 (websocket_market_manager.py:232)
2025-06-09 15:42:28,963 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:42:28,963 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:42:28,963 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:42:28,963 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:42:28,965 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:42:28,967 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:42:32,193 - webhook_logger - INFO - ‚úÖ Order filled: d32af5ae-87a6-4210-a5b0-2939c4846266 at 0.05868 with fee 0.0749613528 (websocket_market_manager.py:232)
2025-06-09 15:42:32,228 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:42:32,228 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 3.26s (listener.py:393)
2025-06-09 15:42:32,228 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:42:36,168 - webhook_logger - INFO - üü° Adjusted BUY limit price for WCFG-USD: 0.186999999999999999555910790149937383830547332763671875 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:42:36,576 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"271.73", "limit_price":"0.187", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 15:42:44,276 - webhook_logger - INFO - üü° Adjusted BUY limit price for 1INCH-USD: 0.2149999999999999966693309261245303787291049957275390625 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:42:44,709 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"235.84", "limit_price":"0.215", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 15:42:49,383 - webhook_logger - INFO - üü° Adjusted BUY limit price for MASK-USD: 1.689999999999999946709294817992486059665679931640625 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:42:49,818 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"30.12", "limit_price":"1.69", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 15:42:55,376 - webhook_logger - INFO - üü° Adjusted BUY limit price for SYN-USD: 0.171999999999999986233234494648058898746967315673828125 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:42:55,867 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"295.85", "limit_price":"0.172", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 15:43:00,102 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.23s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 15:43:00,102 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 15:43:00,102 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 15:43:00,103 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 15:43:00,104 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 15:43:00,105 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 15:43:00,130 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 15:43:00,130 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.03s (listener.py:393)
2025-06-09 15:43:00,130 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 15:43:04,899 - webhook_logger - INFO - üü° Adjusted BUY limit price for AVT-USD: 1.60 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:43:05,363 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AVT-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:1.60'} (webhook_order_types.py:381)
NoneType: None
2025-06-09 15:43:09,618 - webhook_logger - INFO - üü° Adjusted BUY limit price for CORECHAIN-USD: 0.653 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:43:10,062 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: CORECHAIN-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.651'} (webhook_order_types.py:381)
NoneType: None
2025-06-09 15:43:14,858 - webhook_logger - INFO - üü° Adjusted BUY limit price for FIS-USD: 0.12080000000000000459632332194814807735383510589599609375 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 15:43:15,308 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: FIS-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.1203'} (webhook_order_types.py:381)
NoneType: None
2025-06-09 15:43:18,592 - webhook_logger - INFO - üü° Adjusted BUY limit price for C98-USD: 0.0526999999999999968469666100645554251968860626220703125 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 16:59:17,870 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 16:59:17,870 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 16:59:32,348 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 16:59:32,354 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 16:59:32,357 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 16:59:32,807 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 16:59:32,807 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 16:59:33,422 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 16:59:33,443 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 16:59:33,566 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 16:59:33,660 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 16:59:33,661 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 16:59:33,661 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 16:59:34,014 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 16:59:34,018 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 16:59:34,025 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 16:59:34,045 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 16:59:34,045 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 16:59:34,046 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 16:59:37,258 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.91s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 16:59:37,261 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 16:59:37,261 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 16:59:37,261 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 16:59:37,263 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 16:59:37,265 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 16:59:37,267 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 16:59:37,267 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 16:59:37,268 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 16:59:37,270 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 16:59:37,270 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 16:59:37,271 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 16:59:37,273 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 16:59:37,273 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 16:59:37,273 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 16:59:37,463 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 16:59:47,173 - webhook_logger - INFO - üü° Adjusted BUY limit price for WCFG-USD: 0.189 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 19:24:55,832 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:24:55,832 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:25:05,314 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 19:25:05,678 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:25:05,679 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:25:05,938 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1103, in create_connection
    transport, protocol = await self._create_connection_transport(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1133, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 19:25:05,942 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1103, in create_connection
    transport, protocol = await self._create_connection_transport(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1133, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 19:25:06,290 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 19:25:06,394 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:25:06,433 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 19:25:06,452 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 19:25:06,612 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 19:25:06,613 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 19:25:06,613 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 19:26:06,191 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:26:06,192 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:26:06,203 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 19:26:06,516 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:26:06,516 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:26:07,015 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 19:26:16,797 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 19:26:27,124 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 19:26:29,963 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 19:26:29,964 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 19:26:33,757 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 19:26:38,851 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 19:27:24,458 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 19:27:24,460 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 19:27:24,461 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 19:27:27,146 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 80.94s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:27:27,146 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:27:27,147 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:27:27,147 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:27:27,154 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:27:27,155 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:27:27,176 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:27:27,178 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:28:36,132 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:28:36,132 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:28:36,146 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 19:28:36,445 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:28:36,445 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:28:37,000 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:28:37,008 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 19:28:37,028 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 19:28:37,067 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 19:28:37,067 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 19:28:37,068 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 19:28:37,138 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:28:37,194 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 19:28:37,194 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 19:28:37,194 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 19:28:37,373 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 19:28:40,128 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.98s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:28:40,129 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:28:40,129 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:28:40,129 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:28:40,131 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:28:40,132 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:28:40,246 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 19:28:40,246 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 19:28:40,247 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 19:28:40,249 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 19:28:40,249 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 19:28:40,250 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 19:28:40,251 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:28:40,251 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.12s (listener.py:393)
2025-06-09 19:28:40,252 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:28:40,307 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 19:28:40,503 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 19:28:45,178 - webhook_logger - INFO - üü° Adjusted BUY limit price for HONEY-USD: 0.026399999999999999855671006798729649744927883148193359375 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 19:28:48,767 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"1915.7", "limit_price":"0.0264", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 19:28:55,722 - webhook_logger - INFO - üü° Adjusted BUY limit price for DNT-USD: 0.0278 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 19:28:56,185 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: DNT-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0276'} (webhook_order_types.py:381)
NoneType: None
2025-06-09 19:29:01,584 - webhook_logger - INFO - üü° Adjusted BUY limit price for HOPR-USD: 0.044299999999999999100719350053623202256858348846435546875 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 19:29:02,019 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"1136.3", "limit_price":"0.0443", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 19:29:05,978 - webhook_logger - INFO - üü° Adjusted BUY limit price for EOS-USD: 0.59189999999999998170352455417742021381855010986328125 (Attempt 1) (webhook_order_types.py:344)
2025-06-09 19:29:06,425 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:395)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"84.6", "limit_price":"0.5919", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 349, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 19:29:10,575 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.13s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:29:10,576 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:29:10,576 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:29:10,576 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:29:10,577 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:29:10,580 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:29:10,587 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:29:10,587 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 19:29:10,587 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:57:30,457 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:57:30,457 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:57:30,470 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 19:57:30,764 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 19:57:30,764 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 19:57:31,365 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 19:57:31,391 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:57:31,469 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:57:31,472 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 19:57:31,488 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 19:57:31,491 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 19:57:31,492 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 19:57:31,492 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 19:57:31,673 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 19:57:31,674 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 19:57:31,674 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 19:57:34,879 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.41s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:57:34,879 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:57:34,880 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:57:34,880 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:57:34,881 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:57:34,882 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:57:34,885 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 19:57:34,885 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 19:57:34,886 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 19:57:34,887 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 19:57:34,887 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 19:57:34,888 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 19:57:34,889 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:57:34,889 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 19:57:34,889 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:57:34,890 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 19:57:35,045 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 19:58:05,270 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.80s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:58:05,270 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:58:05,271 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:58:05,271 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:58:05,272 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:58:05,274 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:58:05,289 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:58:05,289 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.02s (listener.py:393)
2025-06-09 19:58:05,290 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:58:34,467 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:58:34,467 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:58:34,468 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:58:34,468 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:58:34,470 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:58:34,474 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:58:34,486 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:58:34,486 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.02s (listener.py:393)
2025-06-09 19:58:34,487 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:58:34,494 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 19:58:36,201 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:58:37,203 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 19:58:37,203 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 19:58:37,204 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 19:59:04,933 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.46s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:59:04,933 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:59:04,934 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:59:04,934 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:59:04,935 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:59:04,937 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:59:04,943 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:59:04,944 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 19:59:04,944 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:59:35,064 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.59s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 19:59:35,064 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 19:59:35,064 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 19:59:35,065 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 19:59:35,066 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 19:59:35,068 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 19:59:35,085 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 19:59:35,085 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.02s (listener.py:393)
2025-06-09 19:59:35,086 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 19:59:36,588 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 19:59:38,154 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 19:59:39,155 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 19:59:39,156 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 19:59:39,157 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:00:05,837 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.36s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:00:05,838 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:00:05,838 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:00:05,838 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:00:05,841 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:00:05,843 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:716)
2025-06-09 20:00:05,852 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:00:05,852 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.01s (listener.py:393)
2025-06-09 20:00:05,852 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:00:31,470 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:00:31,471 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:00:31,482 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 20:00:31,783 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:00:31,783 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:00:32,293 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 20:00:32,330 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:00:32,396 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:00:32,418 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:00:32,435 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:00:32,554 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:00:32,554 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:00:32,554 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:00:32,601 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:00:32,601 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:00:32,602 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:00:35,687 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.21s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:00:35,688 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:00:35,688 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:00:35,688 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:00:35,691 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:02:09,699 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:02:09,700 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:02:09,711 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 20:02:10,076 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:02:10,076 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:02:10,648 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:901)
2025-06-09 20:02:10,655 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:02:10,671 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:02:10,688 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:02:10,697 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:02:10,725 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:02:10,725 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:02:10,725 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:02:10,862 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:02:10,862 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:02:10,863 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:02:11,299 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:02:14,211 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.50s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:02:14,211 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:02:14,211 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:02:14,212 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:02:14,218 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:02:29,248 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=43.104, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:02:30,508 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:02:31,119 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:02:31,119 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:02:31,121 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:02:31,122 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:02:31,122 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:02:31,124 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:02:31,399 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 20:02:35,612 - webhook_logger - INFO - üü° Adjusted SELL limit price for INDEX-USD: 1.22 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:02:38,823 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: INDEX-USD:{'trigger': 'TP', 'trigger_note': 'price=1.22'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:02:38,825 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'INDEX-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'INDEX', 'quote_currency': 'USD', 'usd_balance': Decimal('23.00'), 'base_decimal': 3, 'quote_decimal': 2, 'quote_increment': Decimal('0.01'), 'highest_bid': Decimal('1.20999999999999996447286321199499070644378662109375'), 'lowest_ask': Decimal('1.2199999999999999733546474089962430298328399658203125'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.01000000000000000020816681711721685132943093776702880859375'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'base_avail_balance': Decimal('43.105'), 'total_balance_crypto': Decimal('43.105'), 'available_to_trade_crypto': Decimal('43.105'), 'usd_avail_balance': Decimal('23.00'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('43.105'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('1.23'), 'adjusted_size': Decimal('43.103'), 'stop_loss_price': Decimal('1.21'), 'take_profit_price': Decimal('1.26'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:737)
2025-06-09 20:02:52,509 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=76.68, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:02:52,510 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:02:52,588 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:02:52,591 - webhook_logger - WARNING - ‚ö†Ô∏è monitor_untracked_assets timed out ‚Äî skipping. (websocket_helper.py:643)
2025-06-09 20:02:52,592 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:02:52,592 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 38.37s (listener.py:393)
2025-06-09 20:02:52,592 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:02:56,616 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.02s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:02:56,617 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:02:56,617 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:02:56,617 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:02:56,619 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:02:56,620 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:02:56,620 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:02:56,947 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:02:56,949 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('23.00'), 'usd_balance': Decimal('23.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('23.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36703')}} (websocket_helper.py:737)
2025-06-09 20:02:56,949 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=76.68, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:02:56,949 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:03:01,217 - webhook_logger - INFO - üü° Adjusted SELL limit price for CORECHAIN-USD: 0.649 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:03:01,676 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: CORECHAIN-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:03:01,678 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'CORECHAIN-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'CORECHAIN', 'quote_currency': 'USD', 'usd_balance': Decimal('23.000'), 'base_decimal': 2, 'quote_decimal': 3, 'quote_increment': Decimal('0.001'), 'highest_bid': Decimal('0.64800000000000002042810365310288034379482269287109375'), 'lowest_ask': Decimal('0.65000000000000002220446049250313080847263336181640625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00200000000000000004163336342344337026588618755340576171875'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('76.68'), 'total_balance_crypto': Decimal('76.68'), 'available_to_trade_crypto': Decimal('76.68'), 'usd_avail_balance': Decimal('23.000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('76.68'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.650'), 'adjusted_size': Decimal('76.66'), 'stop_loss_price': Decimal('0.643'), 'take_profit_price': Decimal('0.667'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:03:01,679 - webhook_logger - INFO - üîé FIS-USD: Entry=0.1208, Now=0.1177, Qty=415.1, PnL%=-2.57% (websocket_helper.py:703)
2025-06-09 20:03:01,679 - webhook_logger - INFO - üõë SL trigger for FIS-USD: -2.57% (websocket_helper.py:709)
2025-06-09 20:03:05,797 - webhook_logger - INFO - üü° Adjusted SELL limit price for FIS-USD: 0.1177 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:03:06,258 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: FIS-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:03:06,260 - webhook_logger - ERROR - ‚ùå SL order for FIS-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'FIS-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'FIS', 'quote_currency': 'USD', 'usd_balance': Decimal('23.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.117499999999999993338661852249060757458209991455078125'), 'lowest_ask': Decimal('0.11790000000000000479616346638067625463008880615234375'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.0004000000000000000191686944095437183932517655193805694580078125'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('415.1'), 'total_balance_crypto': Decimal('415.1'), 'available_to_trade_crypto': Decimal('415.1'), 'usd_avail_balance': Decimal('23.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('415.1'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.1177'), 'adjusted_size': Decimal('414.9'), 'stop_loss_price': Decimal('0.1165'), 'take_profit_price': Decimal('0.1209'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:03:06,260 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.83, Qty=0.06703810, PnL%=50.16% (websocket_helper.py:703)
2025-06-09 20:03:06,261 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05931, Qty=851.63, PnL%=1.07% (websocket_helper.py:703)
2025-06-09 20:03:06,261 - webhook_logger - INFO - üîé AVT-USD: Entry=1.59, Now=1.59, Qty=31.46, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 20:03:06,261 - webhook_logger - INFO - üõë SL trigger for AVT-USD: 0.00% (websocket_helper.py:709)
2025-06-09 20:03:10,589 - webhook_logger - INFO - üü° Adjusted SELL limit price for AVT-USD: 1.58 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:03:11,162 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AVT-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:03:11,164 - webhook_logger - ERROR - ‚ùå SL order for AVT-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'AVT-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'AVT', 'quote_currency': 'USD', 'usd_balance': Decimal('23.00'), 'base_decimal': 2, 'quote_decimal': 2, 'quote_increment': Decimal('0.01'), 'highest_bid': Decimal('1.5700000000000000621724893790087662637233734130859375'), 'lowest_ask': Decimal('1.5900000000000000799360577730112709105014801025390625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.0200000000000000004163336342344337026588618755340576171875'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('31.46'), 'total_balance_crypto': Decimal('31.46'), 'available_to_trade_crypto': Decimal('31.46'), 'usd_avail_balance': Decimal('23.00'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('31.46'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('1.59'), 'adjusted_size': Decimal('31.44'), 'stop_loss_price': Decimal('1.57'), 'take_profit_price': Decimal('1.63'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:03:11,164 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=1805.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:03:11,165 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:03:11,399 - webhook_logger - INFO - üí∞ AVT-USD SELL profit 1.00 USD (websocket_market_manager.py:230)
2025-06-09 20:03:11,399 - webhook_logger - INFO - ‚úÖ Order filled: ba9bd564-0bab-4ffc-b2ae-304f04e28bba at 1.58 with fee 0.0745128 (websocket_market_manager.py:232)
2025-06-09 20:03:16,117 - webhook_logger - INFO - üü° Adjusted SELL limit price for DNT-USD: 0.0279 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:03:16,896 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: DNT-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:03:16,899 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'DNT-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'DNT', 'quote_currency': 'USD', 'usd_balance': Decimal('23.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.027799999999999998323563232816013623960316181182861328125'), 'lowest_ask': Decimal('0.027900000000000001187938636348917498253285884857177734375'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.000100000000000000004792173602385929598312941379845142364501953125'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('1805.2'), 'total_balance_crypto': Decimal('1805.2'), 'available_to_trade_crypto': Decimal('1805.2'), 'usd_avail_balance': Decimal('23.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('1805.2'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.0280'), 'adjusted_size': Decimal('1805.0'), 'stop_loss_price': Decimal('0.0277'), 'take_profit_price': Decimal('0.0287'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:03:16,899 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109635.11, Qty=0.00257846, PnL%=15.33% (websocket_helper.py:703)
2025-06-09 20:03:16,899 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:03:16,905 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:03:16,906 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 20.29s (listener.py:393)
2025-06-09 20:03:16,906 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:03:20,487 - webhook_logger - INFO - üí∞ AVT-USD SELL profit 1.00 USD (websocket_market_manager.py:230)
2025-06-09 20:03:20,487 - webhook_logger - INFO - ‚úÖ Order filled: ba9bd564-0bab-4ffc-b2ae-304f04e28bba at 1.58 with fee 0.0745128 (websocket_market_manager.py:232)
2025-06-09 20:03:25,152 - webhook_logger - INFO - üí∞ AVT-USD SELL profit 1.00 USD (websocket_market_manager.py:230)
2025-06-09 20:03:25,152 - webhook_logger - INFO - ‚úÖ Order filled: ba9bd564-0bab-4ffc-b2ae-304f04e28bba at 1.58 with fee 0.0745128 (websocket_market_manager.py:232)
2025-06-09 20:03:29,913 - webhook_logger - INFO - üí∞ AVT-USD SELL profit 1.00 USD (websocket_market_manager.py:230)
2025-06-09 20:03:29,914 - webhook_logger - INFO - ‚úÖ Order filled: ba9bd564-0bab-4ffc-b2ae-304f04e28bba at 1.58 with fee 0.0745128 (websocket_market_manager.py:232)
2025-06-09 20:03:33,737 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 8.26s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:03:33,738 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:03:33,738 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:03:33,738 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:03:33,747 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:03:33,749 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:03:33,749 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:03:34,003 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:03:34,005 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('72.00'), 'usd_balance': Decimal('72.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35353')}} (websocket_helper.py:737)
2025-06-09 20:03:34,005 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=0.02, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:03:34,005 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:03:37,470 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:03:37,473 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('76.68'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('72.000'), 'usd_balance': Decimal('72.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387608')}} (websocket_helper.py:776)
2025-06-09 20:03:37,473 - webhook_logger - INFO - üîé FIS-USD: Entry=0.1208, Now=0.1177, Qty=0.2, PnL%=-2.57% (websocket_helper.py:703)
2025-06-09 20:03:37,474 - webhook_logger - INFO - üõë SL trigger for FIS-USD: -2.57% (websocket_helper.py:709)
2025-06-09 20:03:41,152 - webhook_logger - INFO - üü° Adjusted BUY limit price for KRL-USD: 0.3416 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:03:41,677 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: KRL-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.3403'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:03:41,699 - webhook_logger - INFO - ‚ùå Order validation failed for FIS-USD: ‚ö†Ô∏è FIS-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:03:41,701 - webhook_logger - ERROR - ‚ùå SL order for FIS-USD: {'is_valid': False, 'error': 'Insufficient balance to sell FIS.', 'code': '414', 'message': 'Order validation failed for FIS-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'FIS', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'FIS-USD', 'side': 'sell', 'base_balance': Decimal('415.1'), 'base_bal_value': Decimal('0.02'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('72.0000'), 'usd_balance': Decimal('72.0000'), 'condition': '‚ö†Ô∏è FIS-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('81011')}} (websocket_helper.py:776)
2025-06-09 20:03:41,701 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.36, Qty=0.06703810, PnL%=50.13% (websocket_helper.py:703)
2025-06-09 20:03:41,701 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05931, Qty=851.63, PnL%=1.07% (websocket_helper.py:703)
2025-06-09 20:03:41,702 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:03:41,702 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:03:41,876 - webhook_logger - INFO - ‚úÖ Order filled: cb5adb48-c656-49e9-a968-82edacb6385c at 0.3416 with fee 0.07501536 (websocket_market_manager.py:232)
2025-06-09 20:03:42,323 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:03:42,325 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('72.0000'), 'usd_balance': Decimal('72.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25293')}} (websocket_helper.py:776)
2025-06-09 20:03:42,326 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109620.65, Qty=0.00257846, PnL%=15.31% (websocket_helper.py:703)
2025-06-09 20:03:42,326 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:03:42,361 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:03:42,361 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 8.62s (listener.py:393)
2025-06-09 20:03:42,361 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:03:46,359 - webhook_logger - INFO - ‚úÖ Order filled: cb5adb48-c656-49e9-a968-82edacb6385c at 0.3416 with fee 0.07501536 (websocket_market_manager.py:232)
2025-06-09 20:04:08,960 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 8.53s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:04:08,961 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:04:08,961 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:04:08,961 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:04:08,963 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:04:08,966 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:04:08,966 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:04:09,282 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:09,284 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('22.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35084')}} (websocket_helper.py:737)
2025-06-09 20:04:09,285 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=0.02, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:04:09,285 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:04:09,563 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:09,566 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('76.68'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('22.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387608')}} (websocket_helper.py:776)
2025-06-09 20:04:09,566 - webhook_logger - INFO - üîé KRL-USD: Entry=0.3415, Now=0.3416, Qty=146.5, PnL%=0.03% (websocket_helper.py:703)
2025-06-09 20:04:09,567 - webhook_logger - INFO - üõë SL trigger for KRL-USD: 0.03% (websocket_helper.py:709)
2025-06-09 20:04:14,254 - webhook_logger - INFO - üü° Adjusted SELL limit price for KRL-USD: 0.3408 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:04:14,752 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: KRL-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:04:14,754 - webhook_logger - ERROR - ‚ùå SL order for KRL-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'KRL-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'KRL', 'quote_currency': 'USD', 'usd_balance': Decimal('22.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.340399999999999980371256924627232365310192108154296875'), 'lowest_ask': Decimal('0.34179999999999999271693695845897309482097625732421875'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00139999999999999998577526749699018182582221925258636474609375'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('146.6'), 'total_balance_crypto': Decimal('146.6'), 'available_to_trade_crypto': Decimal('146.6'), 'usd_avail_balance': Decimal('22.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('146.6'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.3406'), 'adjusted_size': Decimal('146.4'), 'stop_loss_price': Decimal('0.3372'), 'take_profit_price': Decimal('0.3499'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:04:14,755 - webhook_logger - INFO - üîé FIS-USD: Entry=0.1208, Now=0.1177, Qty=0.2, PnL%=-2.57% (websocket_helper.py:703)
2025-06-09 20:04:14,755 - webhook_logger - INFO - üõë SL trigger for FIS-USD: -2.57% (websocket_helper.py:709)
2025-06-09 20:04:15,016 - webhook_logger - INFO - ‚ùå Order validation failed for FIS-USD: ‚ö†Ô∏è FIS-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:15,018 - webhook_logger - ERROR - ‚ùå SL order for FIS-USD: {'is_valid': False, 'error': 'Insufficient balance to sell FIS.', 'code': '414', 'message': 'Order validation failed for FIS-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'FIS', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'FIS-USD', 'side': 'sell', 'base_balance': Decimal('415.1'), 'base_bal_value': Decimal('0.02'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è FIS-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('81036')}} (websocket_helper.py:776)
2025-06-09 20:04:15,019 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.22, Qty=0.06703810, PnL%=50.12% (websocket_helper.py:703)
2025-06-09 20:04:15,019 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05932, Qty=851.63, PnL%=1.09% (websocket_helper.py:703)
2025-06-09 20:04:15,019 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:04:15,019 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:04:15,310 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:15,312 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25264')}} (websocket_helper.py:776)
2025-06-09 20:04:15,312 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109628.71, Qty=0.00257846, PnL%=15.32% (websocket_helper.py:703)
2025-06-09 20:04:15,312 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:04:15,315 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:04:15,315 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.35s (listener.py:393)
2025-06-09 20:04:15,315 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:04:25,277 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 20:04:26,937 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:04:27,940 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:04:27,940 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:04:27,941 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:04:35,624 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.18s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:04:35,624 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:04:35,628 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:04:35,628 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:04:35,632 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:04:35,634 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:04:35,635 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:04:35,911 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:35,917 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('22.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35084')}} (websocket_helper.py:737)
2025-06-09 20:04:35,918 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=0.02, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:04:35,918 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:04:36,391 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:36,393 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('76.68'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('22.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387608')}} (websocket_helper.py:776)
2025-06-09 20:04:36,393 - webhook_logger - INFO - üîé KRL-USD: Entry=0.3415, Now=0.3416, Qty=0.2, PnL%=0.03% (websocket_helper.py:703)
2025-06-09 20:04:36,394 - webhook_logger - INFO - üõë SL trigger for KRL-USD: 0.03% (websocket_helper.py:709)
2025-06-09 20:04:36,671 - webhook_logger - INFO - ‚ùå Order validation failed for KRL-USD: ‚ö†Ô∏è KRL-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:36,673 - webhook_logger - ERROR - ‚ùå SL order for KRL-USD: {'is_valid': False, 'error': 'Insufficient balance to sell KRL.', 'code': '414', 'message': 'Order validation failed for KRL-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'KRL', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'KRL-USD', 'side': 'sell', 'base_balance': Decimal('146.6'), 'base_bal_value': Decimal('0.06'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è KRL-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('8684')}} (websocket_helper.py:776)
2025-06-09 20:04:36,673 - webhook_logger - INFO - üîé FIS-USD: Entry=0.1208, Now=0.1177, Qty=0.2, PnL%=-2.57% (websocket_helper.py:703)
2025-06-09 20:04:36,674 - webhook_logger - INFO - üõë SL trigger for FIS-USD: -2.57% (websocket_helper.py:709)
2025-06-09 20:04:36,946 - webhook_logger - INFO - ‚ùå Order validation failed for FIS-USD: ‚ö†Ô∏è FIS-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:36,949 - webhook_logger - ERROR - ‚ùå SL order for FIS-USD: {'is_valid': False, 'error': 'Insufficient balance to sell FIS.', 'code': '414', 'message': 'Order validation failed for FIS-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'FIS', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'FIS-USD', 'side': 'sell', 'base_balance': Decimal('415.1'), 'base_bal_value': Decimal('0.02'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è FIS-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('78817')}} (websocket_helper.py:776)
2025-06-09 20:04:36,949 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2691.67, Qty=0.06703810, PnL%=50.21% (websocket_helper.py:703)
2025-06-09 20:04:36,949 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05932, Qty=851.63, PnL%=1.09% (websocket_helper.py:703)
2025-06-09 20:04:36,949 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:04:36,949 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:04:37,249 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:04:37,250 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25121')}} (websocket_helper.py:776)
2025-06-09 20:04:37,251 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109650.12, Qty=0.00257846, PnL%=15.34% (websocket_helper.py:703)
2025-06-09 20:04:37,251 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:04:37,252 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:04:37,252 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.63s (listener.py:393)
2025-06-09 20:04:37,252 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:05:04,585 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.14s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:05:04,586 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:05:04,589 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:05:04,589 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:05:04,594 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:05:04,595 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:05:04,596 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:05:12,316 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:12,318 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('22.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35219')}} (websocket_helper.py:737)
2025-06-09 20:05:12,318 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=0.02, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:05:12,319 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:05:12,618 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:12,619 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('76.68'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('22.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387608')}} (websocket_helper.py:776)
2025-06-09 20:05:12,620 - webhook_logger - INFO - üîé KRL-USD: Entry=0.3415, Now=0.3416, Qty=0.2, PnL%=0.03% (websocket_helper.py:703)
2025-06-09 20:05:12,620 - webhook_logger - INFO - üõë SL trigger for KRL-USD: 0.03% (websocket_helper.py:709)
2025-06-09 20:05:13,135 - webhook_logger - INFO - ‚ùå Order validation failed for KRL-USD: ‚ö†Ô∏è KRL-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:13,137 - webhook_logger - ERROR - ‚ùå SL order for KRL-USD: {'is_valid': False, 'error': 'Insufficient balance to sell KRL.', 'code': '414', 'message': 'Order validation failed for KRL-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'KRL', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'KRL-USD', 'side': 'sell', 'base_balance': Decimal('146.6'), 'base_bal_value': Decimal('0.06'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è KRL-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('8685')}} (websocket_helper.py:776)
2025-06-09 20:05:13,137 - webhook_logger - INFO - üîé FIS-USD: Entry=0.1208, Now=0.1177, Qty=0.2, PnL%=-2.57% (websocket_helper.py:703)
2025-06-09 20:05:13,137 - webhook_logger - INFO - üõë SL trigger for FIS-USD: -2.57% (websocket_helper.py:709)
2025-06-09 20:05:13,407 - webhook_logger - INFO - ‚ùå Order validation failed for FIS-USD: ‚ö†Ô∏è FIS-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:13,409 - webhook_logger - ERROR - ‚ùå SL order for FIS-USD: {'is_valid': False, 'error': 'Insufficient balance to sell FIS.', 'code': '414', 'message': 'Order validation failed for FIS-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'FIS', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'FIS-USD', 'side': 'sell', 'base_balance': Decimal('415.1'), 'base_bal_value': Decimal('0.02'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è FIS-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('78817')}} (websocket_helper.py:776)
2025-06-09 20:05:13,409 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2692.08, Qty=0.06703810, PnL%=50.23% (websocket_helper.py:703)
2025-06-09 20:05:13,410 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05932, Qty=851.63, PnL%=1.09% (websocket_helper.py:703)
2025-06-09 20:05:13,410 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:05:13,410 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:05:13,706 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:13,709 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25121')}} (websocket_helper.py:776)
2025-06-09 20:05:13,709 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109664.0, Qty=0.00257846, PnL%=15.36% (websocket_helper.py:703)
2025-06-09 20:05:13,710 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:05:13,714 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:05:13,719 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 9.13s (listener.py:393)
2025-06-09 20:05:13,719 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:05:34,450 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:05:34,450 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:05:34,451 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:05:34,451 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:05:34,452 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:05:34,454 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:05:34,454 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:05:34,512 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 20:05:34,741 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:34,743 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('22.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36701')}} (websocket_helper.py:737)
2025-06-09 20:05:34,743 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=0.02, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:05:34,743 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:05:35,009 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:35,011 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('76.68'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('22.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387637')}} (websocket_helper.py:776)
2025-06-09 20:05:35,011 - webhook_logger - INFO - üîé KRL-USD: Entry=0.3415, Now=0.3416, Qty=0.2, PnL%=0.03% (websocket_helper.py:703)
2025-06-09 20:05:35,011 - webhook_logger - INFO - üõë SL trigger for KRL-USD: 0.03% (websocket_helper.py:709)
2025-06-09 20:05:35,281 - webhook_logger - INFO - ‚ùå Order validation failed for KRL-USD: ‚ö†Ô∏è KRL-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:35,283 - webhook_logger - ERROR - ‚ùå SL order for KRL-USD: {'is_valid': False, 'error': 'Insufficient balance to sell KRL.', 'code': '414', 'message': 'Order validation failed for KRL-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'KRL', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'KRL-USD', 'side': 'sell', 'base_balance': Decimal('146.6'), 'base_bal_value': Decimal('0.06'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è KRL-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('8773')}} (websocket_helper.py:776)
2025-06-09 20:05:35,283 - webhook_logger - INFO - üîé FIS-USD: Entry=0.1208, Now=0.1177, Qty=0.2, PnL%=-2.57% (websocket_helper.py:703)
2025-06-09 20:05:35,283 - webhook_logger - INFO - üõë SL trigger for FIS-USD: -2.57% (websocket_helper.py:709)
2025-06-09 20:05:35,537 - webhook_logger - INFO - ‚ùå Order validation failed for FIS-USD: ‚ö†Ô∏è FIS-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:35,539 - webhook_logger - ERROR - ‚ùå SL order for FIS-USD: {'is_valid': False, 'error': 'Insufficient balance to sell FIS.', 'code': '414', 'message': 'Order validation failed for FIS-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'FIS', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'FIS-USD', 'side': 'sell', 'base_balance': Decimal('415.1'), 'base_bal_value': Decimal('0.02'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è FIS-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('81036')}} (websocket_helper.py:776)
2025-06-09 20:05:35,540 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2691.83, Qty=0.06703810, PnL%=50.21% (websocket_helper.py:703)
2025-06-09 20:05:35,540 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05932, Qty=851.63, PnL%=1.09% (websocket_helper.py:703)
2025-06-09 20:05:35,540 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:05:35,540 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:05:36,047 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:05:36,049 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('22.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25293')}} (websocket_helper.py:776)
2025-06-09 20:05:36,049 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109666.04, Qty=0.00257846, PnL%=15.36% (websocket_helper.py:703)
2025-06-09 20:05:36,050 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:05:36,051 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:05:36,051 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.60s (listener.py:393)
2025-06-09 20:05:36,051 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:05:36,156 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:05:37,158 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:05:37,159 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:05:37,160 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:06:06,863 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:06:06,863 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:06:06,875 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 20:06:07,588 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:06:07,588 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:06:08,124 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:901)
2025-06-09 20:06:08,213 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:06:08,251 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:06:08,273 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:06:08,288 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:06:08,296 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:06:08,296 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:06:08,297 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:06:08,464 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:06:08,465 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:06:08,465 - webhook_logger - INFO - üì• Snapshot order tracked: 5c546cd5-81aa-47e1-8996-9a843fa6b913 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:08,465 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:08,465 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:08,466 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:08,466 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:06:09,066 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:06:09,214 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:06:09,214 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:06:09,215 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:06:09,290 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:06:09,290 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:06:09,293 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:06:12,353 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.48s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:06:12,353 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:06:12,357 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:06:12,361 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:06:12,366 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:06:12,368 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:06:12,368 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:06:12,460 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 20:06:39,215 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:06:39,215 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:06:39,237 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:774)
2025-06-09 20:06:39,552 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:06:39,552 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:06:40,146 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:06:40,228 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:06:40,274 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:06:40,296 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:06:40,305 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:901)
2025-06-09 20:06:40,341 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:06:40,341 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:06:40,341 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:06:40,586 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:06:40,586 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:06:40,587 - webhook_logger - INFO - üì• Snapshot order tracked: 5c546cd5-81aa-47e1-8996-9a843fa6b913 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:40,587 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:40,587 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:40,587 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:06:40,587 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:06:43,854 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.62s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:06:43,855 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:06:43,858 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:06:43,858 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:06:43,862 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:06:43,863 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:06:43,863 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:06:43,910 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:06:43,910 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:06:43,911 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:06:43,912 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:06:43,913 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:06:43,914 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:06:43,915 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:06:44,073 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 20:07:56,920 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:07:56,922 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('71.00'), 'usd_balance': Decimal('71.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36703')}} (websocket_helper.py:737)
2025-06-09 20:07:56,923 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.648, Qty=0.02, PnL%=-0.77% (websocket_helper.py:703)
2025-06-09 20:07:56,923 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.77% (websocket_helper.py:709)
2025-06-09 20:07:56,992 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:07:57,001 - webhook_logger - WARNING - ‚ö†Ô∏è monitor_untracked_assets timed out ‚Äî skipping. (websocket_helper.py:643)
2025-06-09 20:07:57,002 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:07:57,002 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 73.15s (listener.py:393)
2025-06-09 20:07:57,002 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:08:02,166 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:08:02,169 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:08:06,149 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 9.14s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:08:06,149 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:08:06,152 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:08:06,153 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:08:06,157 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:08:06,159 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:08:06,159 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:08:06,216 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:08:06,216 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:08:06,218 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:08:06,219 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:08:06,219 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:08:06,220 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:08:06,456 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:08:06,459 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('73.00'), 'usd_balance': Decimal('73.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35084')}} (websocket_helper.py:737)
2025-06-09 20:08:06,460 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.649, Qty=0.02, PnL%=-0.61% (websocket_helper.py:703)
2025-06-09 20:08:06,460 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.61% (websocket_helper.py:709)
2025-06-09 20:08:06,963 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:08:06,965 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('73.000'), 'usd_balance': Decimal('73.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('388206')}} (websocket_helper.py:776)
2025-06-09 20:08:06,965 - webhook_logger - INFO - üîé KRL-USD: Entry=0.3415, Now=0.3416, Qty=0.2, PnL%=0.03% (websocket_helper.py:703)
2025-06-09 20:08:06,965 - webhook_logger - INFO - üõë SL trigger for KRL-USD: 0.03% (websocket_helper.py:709)
2025-06-09 20:08:07,292 - webhook_logger - INFO - ‚ùå Order validation failed for KRL-USD: ‚ö†Ô∏è KRL-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:08:07,294 - webhook_logger - ERROR - ‚ùå SL order for KRL-USD: {'is_valid': False, 'error': 'Insufficient balance to sell KRL.', 'code': '414', 'message': 'Order validation failed for KRL-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'KRL', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'KRL-USD', 'side': 'sell', 'base_balance': Decimal('146.6'), 'base_bal_value': Decimal('0.06'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('73.0000'), 'usd_balance': Decimal('73.0000'), 'condition': '‚ö†Ô∏è KRL-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('8648')}} (websocket_helper.py:776)
2025-06-09 20:08:07,295 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.25, Qty=0.06703810, PnL%=50.13% (websocket_helper.py:703)
2025-06-09 20:08:07,295 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05932, Qty=851.63, PnL%=1.09% (websocket_helper.py:703)
2025-06-09 20:08:07,295 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:08:07,295 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:08:07,621 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:08:07,625 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('73.0000'), 'usd_balance': Decimal('73.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25112')}} (websocket_helper.py:776)
2025-06-09 20:08:07,625 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109645.22, Qty=0.00257846, PnL%=15.34% (websocket_helper.py:703)
2025-06-09 20:08:07,625 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:08:07,626 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:08:07,626 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.48s (listener.py:393)
2025-06-09 20:08:07,627 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:08:13,388 - webhook_logger - INFO - üü° Adjusted BUY limit price for LRDS-USD: 0.1636 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:08:16,989 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:402)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"306.56", "limit_price":"0.1636", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 358, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 20:08:20,392 - webhook_logger - INFO - üü° Adjusted BUY limit price for FAI-USD: 0.02053 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:08:21,044 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: FAI-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.02048'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:08:21,211 - webhook_logger - INFO - ‚úÖ Order filled: 0d4d0103-e62c-4f45-882f-47fc1cecabfc at 0.02053 with fee 0.075109005 (websocket_market_manager.py:232)
2025-06-09 20:11:32,529 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 20:27:29,833 - webhook_logger - INFO - ‚úÖ Order filled: 0d4d0103-e62c-4f45-882f-47fc1cecabfc at 0.02053 with fee 0.075109005 (websocket_market_manager.py:232)
2025-06-09 20:28:12,788 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1060, in create_connection
    sock = await self._connect_sock(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 969, in _connect_sock
    await self.sock_connect(sock, address)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/selector_events.py", line 501, in sock_connect
    return await fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 20:28:12,914 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 1000.81s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:28:12,914 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:28:12,921 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:28:12,921 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:28:12,942 - webhook_logger - ERROR - Error in build_order_data for  AAVE market_making: conversion from NoneType to Decimal is not supported (webhook_order_manager.py:335)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 236, in build_order_data
    current_ask = Decimal(self.bid_ask_spread.get(product_id,{}).get('ask'))
TypeError: conversion from NoneType to Decimal is not supported
2025-06-09 20:28:12,983 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:28:12,985 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:28:12,986 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:28:12,997 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:12,998 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.649, Qty=0.02, PnL%=-0.61% (websocket_helper.py:703)
2025-06-09 20:28:12,998 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.61% (websocket_helper.py:709)
2025-06-09 20:28:13,016 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:13,016 - webhook_logger - INFO - üîé KRL-USD: Entry=0.3415, Now=0.3416, Qty=0.2, PnL%=0.03% (websocket_helper.py:703)
2025-06-09 20:28:13,016 - webhook_logger - INFO - üõë SL trigger for KRL-USD: 0.03% (websocket_helper.py:709)
2025-06-09 20:28:13,035 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:13,036 - webhook_logger - INFO - üîé FAI-USD: Entry=0.02053, Now=0.02056, Qty=2439, PnL%=0.15% (websocket_helper.py:703)
2025-06-09 20:28:13,036 - webhook_logger - INFO - üõë SL trigger for FAI-USD: 0.15% (websocket_helper.py:709)
2025-06-09 20:28:13,055 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:13,055 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2688.94, Qty=0.06703810, PnL%=50.05% (websocket_helper.py:703)
2025-06-09 20:28:13,056 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05932, Qty=851.63, PnL%=1.09% (websocket_helper.py:703)
2025-06-09 20:28:13,056 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:28:13,056 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:28:13,074 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:13,075 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109566.37, Qty=0.00257846, PnL%=15.25% (websocket_helper.py:703)
2025-06-09 20:28:13,075 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:28:13,386 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:13,397 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:28:13,398 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.48s (listener.py:393)
2025-06-09 20:28:13,398 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:28:14,180 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:14,241 - webhook_logger - ERROR - Error in _process_order_fill: 'NoneType' object is not callable (listener.py:515)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 389, in place_order
    return await self.handle_order(order_data, order_book_details)
AttributeError: 'NoneType' object has no attribute 'handle_order'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 479, in _process_order_fill
    order_success, response_msg = await self.trade_order_manager.place_order(order_data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_manager.py", line 389, in place_order
    return await self.handle_order(order_data, order_book_details)
TypeError: 'NoneType' object is not callable
2025-06-09 20:28:14,251 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 20:28:14,630 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:28:17,672 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.27s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:28:17,672 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:28:17,673 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:28:17,673 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:28:17,674 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:28:17,675 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:28:17,676 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:28:20,830 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 7.86s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:28:20,831 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:28:20,831 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:28:20,831 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:28:20,838 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:28:20,840 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:28:20,840 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:29:14,978 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:29:14,978 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:29:14,991 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 20:29:15,326 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:29:15,327 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:29:16,035 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:29:16,038 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:29:16,049 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:29:16,057 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:29:16,059 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:29:16,059 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:29:16,059 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:29:16,209 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:29:16,209 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:29:16,209 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:29:16,209 - webhook_logger - INFO - üì• Snapshot order tracked: 5c546cd5-81aa-47e1-8996-9a843fa6b913 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:29:16,210 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:29:16,210 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:29:16,210 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:29:16,340 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:29:19,420 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.43s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:29:19,421 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:29:19,424 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:29:19,424 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:29:19,428 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:29:19,429 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:29:19,430 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:31:02,114 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:31:02,114 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:31:02,125 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 20:31:02,428 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:31:02,428 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:31:03,186 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:31:03,195 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:31:03,198 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:31:03,200 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:31:03,237 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:31:03,237 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:31:03,237 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:31:03,284 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 20:31:03,373 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:31:03,373 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:31:03,373 - webhook_logger - INFO - üì• Snapshot order tracked: 5c546cd5-81aa-47e1-8996-9a843fa6b913 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:31:03,374 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:31:03,374 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:31:03,374 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:31:03,374 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:31:06,224 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.10s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:31:06,224 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:31:06,228 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:31:06,228 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:31:06,232 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:31:06,233 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:31:06,233 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:33:39,584 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:33:39,584 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:33:39,596 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 20:33:39,922 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:33:39,922 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:33:40,545 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:33:40,553 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:33:40,556 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:33:40,565 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:33:40,605 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:33:40,605 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:33:40,605 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:33:40,649 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 20:33:40,705 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:34:46,885 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:37:49,377 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:38:14,871 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:38:15,499 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:38:15,505 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:38:15,545 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:38:15,545 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:38:15,546 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:38:15,547 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:38:15,548 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:38:15,548 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:38:15,555 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:38:15,555 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:38:15,556 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:38:15,556 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:38:16,232 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:38:16,253 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 20:38:16,263 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:38:16,785 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:38:19,546 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 279.95s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:38:19,547 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:38:19,551 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:38:19,551 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:38:19,556 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:38:19,557 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:38:19,558 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:39:12,181 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:39:12,181 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:39:12,191 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 20:39:12,667 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:39:12,667 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:39:13,275 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 20:39:13,315 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:39:13,317 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:39:13,322 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:39:13,330 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:39:13,348 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:39:13,349 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:39:13,349 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:39:13,491 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:40:00,337 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:40:03,771 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:40:03,771 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:40:03,771 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:40:03,777 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:40:03,818 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:40:03,818 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:40:03,819 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:40:03,821 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:40:03,821 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:40:03,823 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:40:03,831 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:40:03,985 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 20:40:03,995 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:40:06,729 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 54.54s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:40:06,729 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:40:06,732 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:40:06,733 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:40:06,736 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:40:06,738 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:40:06,738 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:40:16,815 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:40:16,820 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('73.00'), 'usd_balance': Decimal('73.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 20:40:16,820 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.646, Qty=0.02, PnL%=-1.07% (websocket_helper.py:703)
2025-06-09 20:40:16,820 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -1.07% (websocket_helper.py:709)
2025-06-09 20:40:19,959 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:40:19,961 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('73.000'), 'usd_balance': Decimal('73.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('386556')}} (websocket_helper.py:776)
2025-06-09 20:40:19,961 - webhook_logger - INFO - üîé FAI-USD: Entry=0.02053, Now=0.02048, Qty=2439, PnL%=-0.24% (websocket_helper.py:703)
2025-06-09 20:40:19,962 - webhook_logger - INFO - üõë SL trigger for FAI-USD: -0.24% (websocket_helper.py:709)
2025-06-09 20:40:30,303 - webhook_logger - INFO - üü° Adjusted SELL limit price for FAI-USD: 0.02047 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:40:34,092 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: FAI-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:40:34,094 - webhook_logger - ERROR - ‚ùå SL order for FAI-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'FAI-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'FAI', 'quote_currency': 'USD', 'usd_balance': Decimal('73.00000'), 'base_decimal': 0, 'quote_decimal': 5, 'quote_increment': Decimal('0.00001'), 'highest_bid': Decimal('0.02043999999999999983568699235547683201730251312255859375'), 'lowest_ask': Decimal('0.0204800000000000016753265441593612194992601871490478515625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.0000400000000000000032721221565612523818344925530254840850830078125'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('2439'), 'total_balance_crypto': Decimal('2439'), 'available_to_trade_crypto': Decimal('2439'), 'usd_avail_balance': Decimal('73.00000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('2439'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.02046'), 'adjusted_size': Decimal('2437'), 'stop_loss_price': Decimal('0.02025'), 'take_profit_price': Decimal('0.02102'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:40:34,094 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.04, Qty=0.06703810, PnL%=50.11% (websocket_helper.py:703)
2025-06-09 20:40:34,095 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05901, Qty=851.63, PnL%=0.56% (websocket_helper.py:703)
2025-06-09 20:40:34,095 - webhook_logger - INFO - üõë SL trigger for OGN-USD: 0.56% (websocket_helper.py:709)
2025-06-09 20:40:36,850 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:41:53,518 - webhook_logger - WARNING - ‚ö†Ô∏è monitor_untracked_assets timed out ‚Äî skipping. (websocket_helper.py:643)
2025-06-09 20:41:53,518 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:41:53,521 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 106.79s (listener.py:393)
2025-06-09 20:41:53,522 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:41:56,726 - webhook_logger - INFO - üü° Adjusted BUY limit price for MINA-USD: 0.206 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:41:57,495 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: MINA-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.206'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:48:01,332 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:48:01,332 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:48:01,342 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 20:48:01,650 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:48:01,650 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:48:02,163 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (5 open / 250 recent) (listener.py:894)
2025-06-09 20:48:02,262 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:48:02,494 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:48:02,513 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:48:02,524 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 20:48:02,537 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 20:48:02,537 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 20:48:02,537 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 20:48:02,679 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 20:48:02,680 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 20:53:41,520 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 20:53:41,521 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:53:41,521 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:53:41,522 - webhook_logger - INFO - üì• Snapshot order tracked: 82bfb8af-fad1-448c-ac61-03b8f9eb7abd | CORECHAIN-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:53:41,522 - webhook_logger - INFO - üì• Snapshot order tracked: d2f88d40-2fec-48a2-8475-d408e0554ce8 | FAI-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:53:41,522 - webhook_logger - INFO - üì• Snapshot order tracked: 97696643-b803-473a-b497-59b71e304c3b | MINA-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 20:54:08,219 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 366.87s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:54:08,220 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:54:08,226 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:54:08,226 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:54:08,245 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:54:08,246 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:54:08,248 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:54:08,249 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 20:54:08,249 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 20:54:08,251 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 20:54:08,260 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:54:08,261 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:54:08,262 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 20:54:08,262 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 20:54:08,273 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:54:08,275 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:54:08,275 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:54:08,285 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:08,286 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.646, Qty=0.02, PnL%=-1.07% (websocket_helper.py:703)
2025-06-09 20:54:08,286 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -1.07% (websocket_helper.py:709)
2025-06-09 20:54:08,296 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:08,296 - webhook_logger - INFO - üîé FAI-USD: Entry=0.02053, Now=0.02044, Qty=2, PnL%=-0.44% (websocket_helper.py:703)
2025-06-09 20:54:08,296 - webhook_logger - INFO - üõë SL trigger for FAI-USD: -0.44% (websocket_helper.py:709)
2025-06-09 20:54:08,306 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:08,307 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2688.44, Qty=0.06703810, PnL%=50.03% (websocket_helper.py:703)
2025-06-09 20:54:08,307 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05914, Qty=851.63, PnL%=0.78% (websocket_helper.py:703)
2025-06-09 20:54:08,307 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:54:08,307 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:54:08,318 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:08,319 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109508.6, Qty=0.00257846, PnL%=15.19% (websocket_helper.py:703)
2025-06-09 20:54:08,319 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:54:08,917 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 20:54:08,929 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:54:08,929 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.71s (listener.py:393)
2025-06-09 20:54:08,929 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:54:09,257 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 20:54:09,265 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:20,761 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:21,261 - webhook_logger - WARNING - The following market_data dictionaries are incomplete: ['bid_ask_spread']  (webhook_order_manager.py:332)
2025-06-09 20:54:24,429 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 16.17s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:54:24,429 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:54:24,429 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:54:24,430 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:54:24,431 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:54:24,433 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:54:24,433 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:54:48,130 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 39.19s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 20:54:48,131 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 20:54:48,131 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 20:54:48,131 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 20:54:48,139 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 20:54:48,140 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 20:54:48,140 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 20:54:55,353 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 20:54:55,355 - webhook_logger - WARNING - ‚ö†Ô∏è monitor_untracked_assets timed out ‚Äî skipping. (websocket_helper.py:643)
2025-06-09 20:54:55,356 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 20:54:55,356 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 30.93s (listener.py:393)
2025-06-09 20:54:55,356 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 20:54:59,275 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:54:59,278 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('23.00'), 'usd_balance': Decimal('74.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('23.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36703')}} (websocket_helper.py:737)
2025-06-09 20:54:59,278 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.646, Qty=0.02, PnL%=-1.07% (websocket_helper.py:703)
2025-06-09 20:54:59,278 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -1.07% (websocket_helper.py:709)
2025-06-09 20:55:02,044 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:55:02,046 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('23.000'), 'usd_balance': Decimal('74.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('23.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('386458')}} (websocket_helper.py:776)
2025-06-09 20:55:02,047 - webhook_logger - INFO - üîé FAI-USD: Entry=0.02053, Now=0.02047, Qty=2, PnL%=-0.29% (websocket_helper.py:703)
2025-06-09 20:55:02,047 - webhook_logger - INFO - üõë SL trigger for FAI-USD: -0.29% (websocket_helper.py:709)
2025-06-09 20:55:04,042 - webhook_logger - INFO - ‚ùå Order validation failed for FAI-USD: ‚ö†Ô∏è FAI-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 20:55:04,046 - webhook_logger - ERROR - ‚ùå SL order for FAI-USD: {'is_valid': False, 'error': 'Insufficient balance to sell FAI.', 'code': '414', 'message': 'Order validation failed for FAI-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'FAI', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'FAI-USD', 'side': 'sell', 'base_balance': Decimal('2390'), 'base_bal_value': Decimal('0.04'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('23.00000'), 'usd_balance': Decimal('74.00000'), 'condition': '‚ö†Ô∏è FAI-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('23.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('801251')}} (websocket_helper.py:776)
2025-06-09 20:55:04,047 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2691.63, Qty=0.06703810, PnL%=50.20% (websocket_helper.py:703)
2025-06-09 20:55:04,047 - webhook_logger - INFO - üîé OGN-USD: Entry=0.05868, Now=0.05901, Qty=851.63, PnL%=0.56% (websocket_helper.py:703)
2025-06-09 20:55:04,047 - webhook_logger - INFO - üõë SL trigger for OGN-USD: 0.56% (websocket_helper.py:709)
2025-06-09 20:55:11,416 - webhook_logger - INFO - üü° Adjusted SELL limit price for OGN-USD: 0.05917 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 20:55:14,896 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: OGN-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 20:55:14,899 - webhook_logger - ERROR - ‚ùå SL order for OGN-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'OGN-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'OGN', 'quote_currency': 'USD', 'usd_balance': Decimal('74.00000'), 'base_decimal': 2, 'quote_decimal': 5, 'quote_increment': Decimal('0.00001'), 'highest_bid': Decimal('0.059119999999999998940847234507600660435855388641357421875'), 'lowest_ask': Decimal('0.059229999999999997928323836049457895569503307342529296875'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.000110000000000000003916138247017642015634919516742229461669921875'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('851.64'), 'total_balance_crypto': Decimal('851.64'), 'available_to_trade_crypto': Decimal('851.64'), 'usd_avail_balance': Decimal('23.00000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('851.64'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.05913'), 'adjusted_size': Decimal('851.62'), 'stop_loss_price': Decimal('0.05853'), 'take_profit_price': Decimal('0.06075'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 20:55:14,899 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 20:55:14,899 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 20:55:19,556 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:10:50,765 - webhook_logger - WARNING - ‚ö†Ô∏è monitor_untracked_assets timed out ‚Äî skipping. (websocket_helper.py:643)
2025-06-09 21:10:50,765 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:10:50,768 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 962.63s (listener.py:393)
2025-06-09 21:10:50,768 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:10:51,461 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:10:51,462 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:10:52,013 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:10:54,177 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:10:54,182 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:10:54,182 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:10:54,184 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:10:58,310 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 7.53s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:10:58,310 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:10:58,311 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:10:58,311 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:10:58,314 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:10:58,316 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:10:58,317 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 21:10:58,317 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:10:58,317 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:10:58,318 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:10:58,319 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:10:58,323 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:10:58,325 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:10:58,325 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:11:03,379 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:11:03,383 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('122.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36701')}} (websocket_helper.py:737)
2025-06-09 21:11:03,384 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:11:03,384 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:11:04,017 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:11:04,017 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:11:04,018 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:11:05,996 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:11:05,998 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('122.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387055')}} (websocket_helper.py:776)
2025-06-09 21:11:05,999 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.45, Qty=0.06703810, PnL%=50.14% (websocket_helper.py:703)
2025-06-09 21:11:05,999 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:11:05,999 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:11:15,912 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:11:15,915 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25112')}} (websocket_helper.py:776)
2025-06-09 21:11:15,915 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109526.6, Qty=0.00257846, PnL%=15.21% (websocket_helper.py:703)
2025-06-09 21:11:15,915 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:11:15,930 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:11:15,934 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 17.62s (listener.py:393)
2025-06-09 21:11:15,934 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:11:16,079 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:11:18,392 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:11:18,393 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 21:11:18,393 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:11:22,055 - webhook_logger - INFO - üü° Adjusted BUY limit price for AVT-USD: 1.59 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:11:22,696 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AVT-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:1.59'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:11:26,935 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.21s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:11:26,935 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:11:26,936 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:11:26,936 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:11:26,938 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:11:26,940 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:11:26,940 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:11:27,215 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:11:27,217 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('122.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:11:27,217 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:11:27,217 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:11:27,902 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:11:27,905 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('122.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387026')}} (websocket_helper.py:776)
2025-06-09 21:11:27,906 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.8, Qty=0.06703810, PnL%=50.16% (websocket_helper.py:703)
2025-06-09 21:11:27,906 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:11:27,906 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:11:28,195 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:11:28,197 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('24939')}} (websocket_helper.py:776)
2025-06-09 21:11:28,197 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109554.16, Qty=0.00257846, PnL%=15.24% (websocket_helper.py:703)
2025-06-09 21:11:28,198 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:11:28,200 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:11:28,200 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.26s (listener.py:393)
2025-06-09 21:11:28,201 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:11:32,732 - webhook_logger - INFO - üü° Adjusted BUY limit price for KRL-USD: 0.3416 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:11:33,208 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: KRL-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.3405'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:11:36,607 - webhook_logger - INFO - üü° Adjusted BUY limit price for KRL-USD: 0.3416 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:11:37,082 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:37,083 - webhook_logger - INFO - üü° Adjusted BUY limit price for KRL-USD: 0.3414 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:11:37,522 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:37,522 - webhook_logger - INFO - üü° Adjusted BUY limit price for KRL-USD: 0.3413 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:11:37,983 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:37,984 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: KRL-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.3405'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:11:45,696 - webhook_logger - INFO - üü° Adjusted BUY limit price for BLAST-USD: 0.00278 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:11:46,142 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:46,142 - webhook_logger - INFO - üü° Adjusted BUY limit price for BLAST-USD: 0.00278 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:11:46,569 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:46,569 - webhook_logger - INFO - üü° Adjusted BUY limit price for BLAST-USD: 0.00278 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:11:47,064 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:47,064 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: BLAST-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.00278'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:11:50,369 - webhook_logger - INFO - üü° Adjusted BUY limit price for AST-USD: 0.0387 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:11:50,791 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:50,791 - webhook_logger - INFO - üü° Adjusted BUY limit price for AST-USD: 0.0387 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:11:51,226 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:51,227 - webhook_logger - INFO - üü° Adjusted BUY limit price for AST-USD: 0.0387 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:11:51,672 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:51,673 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AST-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0386'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:11:55,971 - webhook_logger - INFO - üü° Adjusted BUY limit price for ARPA-USD: 0.0221 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:11:56,382 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:56,382 - webhook_logger - INFO - üü° Adjusted BUY limit price for ARPA-USD: 0.0221 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:11:56,798 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:56,798 - webhook_logger - INFO - üü° Adjusted BUY limit price for ARPA-USD: 0.0221 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:11:57,235 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:11:57,235 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: ARPA-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0221'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:12:01,710 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 8.94s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:12:01,713 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:12:01,718 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:12:01,718 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:12:01,723 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:12:01,725 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:12:01,725 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:12:02,005 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:02,007 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36701')}} (websocket_helper.py:737)
2025-06-09 21:12:02,008 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:12:02,008 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:12:02,273 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:02,275 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387055')}} (websocket_helper.py:776)
2025-06-09 21:12:02,275 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2689.82, Qty=0.06703810, PnL%=50.10% (websocket_helper.py:703)
2025-06-09 21:12:02,276 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:12:02,276 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:12:02,536 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:02,538 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25112')}} (websocket_helper.py:776)
2025-06-09 21:12:02,539 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109540.84, Qty=0.00257846, PnL%=15.23% (websocket_helper.py:703)
2025-06-09 21:12:02,539 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:12:02,540 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:12:02,540 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.83s (listener.py:393)
2025-06-09 21:12:02,540 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:12:12,600 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:12:14,265 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:12:15,267 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:12:15,268 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:12:15,269 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:12:19,340 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:12:19,780 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:12:20,909 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:12:21,385 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:12:21,911 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:12:21,911 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:12:21,912 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:12:22,387 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:12:22,387 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:12:22,389 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:12:27,157 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.38s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:12:27,157 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:12:27,158 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:12:27,158 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:12:27,160 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:12:27,162 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:12:27,163 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:12:27,469 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:27,472 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36703')}} (websocket_helper.py:737)
2025-06-09 21:12:27,473 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:12:27,473 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:12:27,743 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:27,745 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387055')}} (websocket_helper.py:776)
2025-06-09 21:12:27,745 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.99, Qty=0.06703810, PnL%=50.17% (websocket_helper.py:703)
2025-06-09 21:12:27,746 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:12:27,746 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:12:28,058 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:28,061 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25112')}} (websocket_helper.py:776)
2025-06-09 21:12:28,061 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109558.41, Qty=0.00257846, PnL%=15.25% (websocket_helper.py:703)
2025-06-09 21:12:28,062 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:12:28,065 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:12:28,066 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.91s (listener.py:393)
2025-06-09 21:12:28,066 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:12:56,913 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.14s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:12:56,914 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:12:56,914 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:12:56,914 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:12:56,916 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:12:56,918 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:12:56,918 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:12:57,182 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:57,185 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:12:57,186 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:12:57,186 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:12:57,486 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:57,489 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387026')}} (websocket_helper.py:776)
2025-06-09 21:12:57,489 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2691.3, Qty=0.06703810, PnL%=50.18% (websocket_helper.py:703)
2025-06-09 21:12:57,489 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:12:57,489 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:12:57,758 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:12:57,760 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('24939')}} (websocket_helper.py:776)
2025-06-09 21:12:57,761 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109571.16, Qty=0.00257846, PnL%=15.26% (websocket_helper.py:703)
2025-06-09 21:12:57,761 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:12:57,762 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:12:57,763 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.85s (listener.py:393)
2025-06-09 21:12:57,763 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:13:17,024 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:13:18,561 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:13:19,563 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:13:19,563 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:13:19,564 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:13:26,902 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.06s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:13:26,902 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:13:26,903 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:13:26,903 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:13:26,905 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:13:26,907 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:13:26,907 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:13:27,196 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:13:27,199 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:13:27,200 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:13:27,200 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:13:27,533 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:13:27,535 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387026')}} (websocket_helper.py:776)
2025-06-09 21:13:27,535 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2691.84, Qty=0.06703810, PnL%=50.22% (websocket_helper.py:703)
2025-06-09 21:13:27,535 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:13:27,535 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:13:27,809 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:13:27,811 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('24939')}} (websocket_helper.py:776)
2025-06-09 21:13:27,811 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109585.0, Qty=0.00257846, PnL%=15.27% (websocket_helper.py:703)
2025-06-09 21:13:27,811 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:13:27,814 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:13:27,814 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.91s (listener.py:393)
2025-06-09 21:13:27,814 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:13:31,631 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:13:33,194 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:13:34,210 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:13:34,210 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:13:34,211 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:13:57,129 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.29s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:13:57,130 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:13:57,130 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:13:57,130 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:13:57,132 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:13:57,133 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:13:57,134 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:13:57,410 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:13:57,415 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:13:57,415 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:13:57,415 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:13:57,692 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:13:57,696 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387026')}} (websocket_helper.py:776)
2025-06-09 21:13:57,697 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2691.7, Qty=0.06703810, PnL%=50.21% (websocket_helper.py:703)
2025-06-09 21:13:57,697 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:13:57,697 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:13:58,021 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:13:58,023 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('24939')}} (websocket_helper.py:776)
2025-06-09 21:13:58,023 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109587.64, Qty=0.00257846, PnL%=15.28% (websocket_helper.py:703)
2025-06-09 21:13:58,023 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:13:58,028 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:13:58,028 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.90s (listener.py:393)
2025-06-09 21:13:58,028 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:14:18,576 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:14:20,104 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:14:21,105 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:14:21,106 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:14:21,107 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:14:26,889 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.04s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:14:26,889 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:14:26,890 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:14:26,890 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:14:26,891 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:14:26,893 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:14:26,893 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:14:27,176 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:14:27,179 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36703')}} (websocket_helper.py:737)
2025-06-09 21:14:27,180 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:14:27,181 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:14:27,473 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:14:27,477 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387060')}} (websocket_helper.py:776)
2025-06-09 21:14:27,478 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2692.46, Qty=0.06703810, PnL%=50.25% (websocket_helper.py:703)
2025-06-09 21:14:27,479 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:14:27,479 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:14:27,760 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:14:27,764 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('25112')}} (websocket_helper.py:776)
2025-06-09 21:14:27,764 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109581.39, Qty=0.00257846, PnL%=15.27% (websocket_helper.py:703)
2025-06-09 21:14:27,764 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:14:27,767 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:14:27,767 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.88s (listener.py:393)
2025-06-09 21:14:27,767 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:14:33,710 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:14:35,241 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:14:36,244 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:14:36,245 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:14:36,246 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:14:56,901 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.06s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:14:56,902 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:14:56,902 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:14:56,902 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:14:56,904 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:14:56,906 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:14:56,906 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:14:57,197 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:14:57,201 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35353')}} (websocket_helper.py:737)
2025-06-09 21:14:57,201 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:14:57,202 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:14:57,470 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:14:57,472 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387029')}} (websocket_helper.py:776)
2025-06-09 21:14:57,472 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2693.39, Qty=0.06703810, PnL%=50.30% (websocket_helper.py:703)
2025-06-09 21:14:57,472 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:14:57,472 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:14:57,776 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:14:57,780 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('24939')}} (websocket_helper.py:776)
2025-06-09 21:14:57,781 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109569.25, Qty=0.00257846, PnL%=15.26% (websocket_helper.py:703)
2025-06-09 21:14:57,782 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:14:57,786 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:14:57,786 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.88s (listener.py:393)
2025-06-09 21:14:57,786 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:15:20,170 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:15:21,715 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:15:22,717 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:15:22,717 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:15:22,719 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:15:26,745 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.89s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:15:26,746 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:15:26,746 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:15:26,746 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:15:26,751 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:15:26,753 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:15:26,753 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:15:27,093 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:15:27,095 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36701')}} (websocket_helper.py:737)
2025-06-09 21:15:27,095 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:15:27,095 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:15:27,352 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:15:27,355 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387058')}} (websocket_helper.py:776)
2025-06-09 21:15:27,355 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2693.71, Qty=0.06703810, PnL%=50.32% (websocket_helper.py:703)
2025-06-09 21:15:27,355 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:15:27,355 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:15:27,651 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:15:27,653 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23459')}} (websocket_helper.py:776)
2025-06-09 21:15:27,653 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109574.19, Qty=0.00257846, PnL%=15.26% (websocket_helper.py:703)
2025-06-09 21:15:27,654 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:15:27,655 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:15:27,655 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.91s (listener.py:393)
2025-06-09 21:15:27,655 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:15:36,986 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:15:38,592 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:15:39,594 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:15:39,594 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:15:39,596 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:15:56,645 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.79s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:15:56,646 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:15:56,646 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:15:56,646 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:15:56,648 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:15:56,649 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:15:56,650 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:15:56,933 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:15:56,937 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35219')}} (websocket_helper.py:737)
2025-06-09 21:15:56,937 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:15:56,938 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:15:57,214 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:15:57,217 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387029')}} (websocket_helper.py:776)
2025-06-09 21:15:57,218 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2698.63, Qty=0.06703810, PnL%=50.59% (websocket_helper.py:703)
2025-06-09 21:15:57,218 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:15:57,219 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:15:57,523 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:15:57,525 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:15:57,526 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109643.66, Qty=0.00257846, PnL%=15.33% (websocket_helper.py:703)
2025-06-09 21:15:57,526 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:15:57,527 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:15:57,527 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.88s (listener.py:393)
2025-06-09 21:15:57,527 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:16:21,754 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:16:23,601 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:16:26,777 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.91s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:16:26,778 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:16:26,781 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:16:26,781 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:16:26,785 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:16:26,787 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:16:26,787 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:16:26,843 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:16:26,843 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:16:26,845 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:16:27,148 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:16:27,150 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35490')}} (websocket_helper.py:737)
2025-06-09 21:16:27,151 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:16:27,151 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:16:27,410 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:16:27,412 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387039')}} (websocket_helper.py:776)
2025-06-09 21:16:27,412 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2698.78, Qty=0.06703810, PnL%=50.60% (websocket_helper.py:703)
2025-06-09 21:16:27,412 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:16:27,413 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:16:27,786 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:16:27,788 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23429')}} (websocket_helper.py:776)
2025-06-09 21:16:27,788 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109699.9, Qty=0.00257846, PnL%=15.39% (websocket_helper.py:703)
2025-06-09 21:16:27,788 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:16:27,791 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:16:27,791 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.01s (listener.py:393)
2025-06-09 21:16:27,791 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:16:38,605 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:16:40,191 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:16:41,193 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:16:41,194 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:16:41,195 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:16:56,671 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.80s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:16:56,671 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:16:56,672 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:16:56,672 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:16:56,673 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:16:56,675 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:16:56,675 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:16:56,993 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:16:56,995 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('173.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35219')}} (websocket_helper.py:737)
2025-06-09 21:16:56,995 - webhook_logger - INFO - üîé CORECHAIN-USD: Entry=0.653, Now=0.647, Qty=0.02, PnL%=-0.92% (websocket_helper.py:703)
2025-06-09 21:16:56,995 - webhook_logger - INFO - üõë SL trigger for CORECHAIN-USD: -0.92% (websocket_helper.py:709)
2025-06-09 21:16:57,237 - webhook_logger - INFO - ‚ùå Order validation failed for CORECHAIN-USD: ‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:16:57,239 - webhook_logger - ERROR - ‚ùå SL order for CORECHAIN-USD: {'is_valid': False, 'error': 'Insufficient balance to sell CORECHAIN.', 'code': '414', 'message': 'Order validation failed for CORECHAIN-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'CORECHAIN', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'CORECHAIN-USD', 'side': 'sell', 'base_balance': Decimal('73.73'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.000'), 'usd_balance': Decimal('173.000'), 'condition': '‚ö†Ô∏è CORECHAIN-USD has insufficient balance to sell.', 'quote_decimal': 3, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('387010')}} (websocket_helper.py:776)
2025-06-09 21:16:57,239 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2699.07, Qty=0.06703810, PnL%=50.62% (websocket_helper.py:703)
2025-06-09 21:16:57,239 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:16:57,239 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:16:57,508 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:16:57,510 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('173.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:16:57,510 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109714.61, Qty=0.00257846, PnL%=15.41% (websocket_helper.py:703)
2025-06-09 21:16:57,510 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:16:57,512 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:16:57,512 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.84s (listener.py:393)
2025-06-09 21:16:57,512 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:17:23,750 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:17:27,725 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.86s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:17:27,726 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:17:27,726 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:17:27,726 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:17:27,728 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:17:27,730 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:17:27,731 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:17:28,534 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:17:28,537 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:17:28,537 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2699.37, Qty=0.06703810, PnL%=50.64% (websocket_helper.py:703)
2025-06-09 21:17:28,538 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:17:28,538 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:17:29,038 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:17:29,041 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:17:29,041 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109735.59, Qty=0.00257846, PnL%=15.43% (websocket_helper.py:703)
2025-06-09 21:17:29,041 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:17:29,042 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:17:29,042 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.32s (listener.py:393)
2025-06-09 21:17:29,042 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:17:29,450 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:17:34,077 - webhook_logger - INFO - üü° Adjusted BUY limit price for SD-USD: 0.5285 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:17:34,692 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: SD-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.5263'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:17:39,273 - webhook_logger - INFO - üü° Adjusted BUY limit price for LRDS-USD: 0.1636 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:17:39,702 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:402)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"305.99", "limit_price":"0.1636", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 358, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 21:17:39,710 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:17:39,711 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:17:39,712 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:17:45,968 - webhook_logger - INFO - üü° Adjusted BUY limit price for HONEY-USD: 0.0262 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:17:46,398 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:46,398 - webhook_logger - INFO - üü° Adjusted BUY limit price for HONEY-USD: 0.0262 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:17:46,842 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:46,843 - webhook_logger - INFO - üü° Adjusted BUY limit price for HONEY-USD: 0.0262 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:17:47,305 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:47,305 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: HONEY-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0262'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:17:51,075 - webhook_logger - INFO - üü° Adjusted BUY limit price for LOKA-USD: 0.0582 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:17:51,542 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:51,542 - webhook_logger - INFO - üü° Adjusted BUY limit price for LOKA-USD: 0.0582 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:17:51,999 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:52,000 - webhook_logger - INFO - üü° Adjusted BUY limit price for LOKA-USD: 0.0581 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:17:52,471 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:52,471 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: LOKA-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0579'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:17:55,769 - webhook_logger - INFO - üü° Adjusted BUY limit price for SD-USD: 0.5285 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:17:56,193 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:56,193 - webhook_logger - INFO - üü° Adjusted BUY limit price for SD-USD: 0.5283 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:17:56,620 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:56,621 - webhook_logger - INFO - üü° Adjusted BUY limit price for SD-USD: 0.5280 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:17:57,053 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:17:57,053 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: SD-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.5263'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:18:01,488 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.34s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:18:01,488 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:18:01,492 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:18:01,493 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:18:01,499 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:18:01,501 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:18:01,501 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:18:01,907 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:18:01,912 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('170.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36701')}} (websocket_helper.py:737)
2025-06-09 21:18:01,912 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2698.65, Qty=0.06703810, PnL%=50.60% (websocket_helper.py:703)
2025-06-09 21:18:01,912 - webhook_logger - INFO - üîé SD-USD: Entry=0.5284, Now=0.5291, Qty=94.68, PnL%=0.13% (websocket_helper.py:703)
2025-06-09 21:18:01,913 - webhook_logger - INFO - üõë SL trigger for SD-USD: 0.13% (websocket_helper.py:709)
2025-06-09 21:18:06,425 - webhook_logger - INFO - üü° Adjusted SELL limit price for SD-USD: 0.5217 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:18:06,908 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: SD-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:18:06,910 - webhook_logger - ERROR - ‚ùå SL order for SD-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'SD-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'SD', 'quote_currency': 'USD', 'usd_balance': Decimal('170.0000'), 'base_decimal': 2, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.52110000000000000763833440942107699811458587646484375'), 'lowest_ask': Decimal('0.52859999999999995878852132591418921947479248046875'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.007499999999999999722444243843710864894092082977294921875'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('94.68'), 'total_balance_crypto': Decimal('94.68'), 'available_to_trade_crypto': Decimal('94.68'), 'usd_avail_balance': Decimal('19.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('94.68'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.5213'), 'adjusted_size': Decimal('94.66'), 'stop_loss_price': Decimal('0.5160'), 'take_profit_price': Decimal('0.5356'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 21:18:06,911 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:18:06,911 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:18:07,186 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:18:07,188 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23277')}} (websocket_helper.py:776)
2025-06-09 21:18:07,189 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109746.72, Qty=0.00257846, PnL%=15.44% (websocket_helper.py:703)
2025-06-09 21:18:07,189 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:18:07,193 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:18:07,193 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 5.70s (listener.py:393)
2025-06-09 21:18:07,193 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:18:18,026 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:18:19,579 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:18:30,174 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:18:30,175 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:18:30,176 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:18:33,516 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.31s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:18:33,517 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:18:33,520 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:18:33,520 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:18:33,524 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:18:33,526 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:18:33,526 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:18:33,794 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:18:33,796 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35084')}} (websocket_helper.py:737)
2025-06-09 21:18:33,797 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2698.29, Qty=0.06703810, PnL%=50.58% (websocket_helper.py:703)
2025-06-09 21:18:33,797 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:18:33,797 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:18:34,072 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:18:34,074 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23277')}} (websocket_helper.py:776)
2025-06-09 21:18:34,075 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109749.98, Qty=0.00257846, PnL%=15.45% (websocket_helper.py:703)
2025-06-09 21:18:34,075 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:18:34,076 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:18:34,076 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.56s (listener.py:393)
2025-06-09 21:18:34,076 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:18:39,144 - webhook_logger - INFO - üü° Adjusted BUY limit price for LQTY-USD: 1.0009 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:18:39,598 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: LQTY-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.9970'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:18:43,785 - webhook_logger - INFO - üü° Adjusted BUY limit price for MATH-USD: 0.1069 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:18:44,254 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:18:44,254 - webhook_logger - INFO - üü° Adjusted BUY limit price for MATH-USD: 0.1069 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:18:44,707 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:18:44,707 - webhook_logger - INFO - üü° Adjusted BUY limit price for MATH-USD: 0.1068 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:18:45,169 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:18:45,169 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: MATH-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.1065'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:18:50,387 - webhook_logger - INFO - üü° Adjusted BUY limit price for SYN-USD: 0.168 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:18:50,851 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:18:50,851 - webhook_logger - INFO - üü° Adjusted BUY limit price for SYN-USD: 0.168 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:18:51,319 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:18:51,320 - webhook_logger - INFO - üü° Adjusted BUY limit price for SYN-USD: 0.168 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:18:52,046 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:18:52,046 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: SYN-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.168'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:18:55,633 - webhook_logger - INFO - üü° Adjusted BUY limit price for INV-USD: 29.72 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:18:56,108 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:402)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"1.6812", "limit_price":"29.72", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 358, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 21:19:03,963 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.77s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:19:03,963 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:19:03,963 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:19:03,964 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:19:03,965 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:19:03,967 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:19:03,968 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:19:04,234 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:19:04,237 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35490')}} (websocket_helper.py:737)
2025-06-09 21:19:04,238 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2698.23, Qty=0.06703810, PnL%=50.57% (websocket_helper.py:703)
2025-06-09 21:19:04,239 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:19:04,239 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:19:04,525 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:19:04,529 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23429')}} (websocket_helper.py:776)
2025-06-09 21:19:04,529 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109750.55, Qty=0.00257846, PnL%=15.45% (websocket_helper.py:703)
2025-06-09 21:19:04,529 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:19:04,532 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:19:04,532 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.57s (listener.py:393)
2025-06-09 21:19:04,532 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:19:07,083 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:19:08,678 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:19:09,679 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:19:09,680 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:19:09,681 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:19:33,439 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.25s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:19:33,439 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:19:33,443 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:19:33,443 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:19:33,518 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:19:33,520 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:19:33,520 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:19:33,795 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:19:33,797 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:19:33,798 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2696.6, Qty=0.06703810, PnL%=50.48% (websocket_helper.py:703)
2025-06-09 21:19:33,798 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:19:33,798 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:19:34,250 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:19:34,252 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:19:34,252 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109720.01, Qty=0.00257846, PnL%=15.42% (websocket_helper.py:703)
2025-06-09 21:19:34,253 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:19:34,254 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:19:34,254 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.81s (listener.py:393)
2025-06-09 21:19:34,254 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:19:36,156 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:19:37,724 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:19:38,733 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:19:38,734 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:19:38,735 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:20:03,462 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.27s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:20:03,462 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:20:03,465 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:20:03,465 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:20:03,470 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:20:03,472 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:20:03,472 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:20:03,739 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:20:03,741 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36701')}} (websocket_helper.py:737)
2025-06-09 21:20:03,741 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2696.49, Qty=0.06703810, PnL%=50.47% (websocket_helper.py:703)
2025-06-09 21:20:03,741 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:20:03,741 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:20:04,013 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:20:04,015 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23459')}} (websocket_helper.py:776)
2025-06-09 21:20:04,015 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109692.95, Qty=0.00257846, PnL%=15.39% (websocket_helper.py:703)
2025-06-09 21:20:04,016 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:20:04,016 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:20:04,017 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.55s (listener.py:393)
2025-06-09 21:20:04,017 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:20:08,684 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:20:10,233 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:20:11,235 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:20:11,235 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:20:11,237 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:20:33,777 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.59s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:20:33,777 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:20:33,777 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:20:33,778 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:20:33,779 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:20:33,781 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:20:33,781 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:20:34,077 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:20:34,079 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35488')}} (websocket_helper.py:737)
2025-06-09 21:20:34,079 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2697.1, Qty=0.06703810, PnL%=50.51% (websocket_helper.py:703)
2025-06-09 21:20:34,080 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:20:34,080 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:20:34,356 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:20:34,358 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:20:34,359 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109726.4, Qty=0.00257846, PnL%=15.42% (websocket_helper.py:703)
2025-06-09 21:20:34,359 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:20:34,360 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:20:34,360 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.58s (listener.py:393)
2025-06-09 21:20:34,361 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:20:37,738 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:20:39,313 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:20:40,316 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:20:40,316 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:20:40,317 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:21:03,210 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.02s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:21:03,210 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:21:03,210 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:21:03,210 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:21:03,212 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:21:03,214 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:21:03,215 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:21:03,481 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:21:03,483 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35084')}} (websocket_helper.py:737)
2025-06-09 21:21:03,484 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2695.55, Qty=0.06703810, PnL%=50.42% (websocket_helper.py:703)
2025-06-09 21:21:03,484 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:21:03,484 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:21:03,774 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:21:03,776 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23277')}} (websocket_helper.py:776)
2025-06-09 21:21:03,776 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109682.52, Qty=0.00257846, PnL%=15.38% (websocket_helper.py:703)
2025-06-09 21:21:03,776 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:21:03,777 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:21:03,777 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.57s (listener.py:393)
2025-06-09 21:21:03,777 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:21:13,884 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:21:15,471 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:21:16,472 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:21:16,473 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:21:16,475 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:21:33,482 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.29s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:21:33,483 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:21:33,483 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:21:33,483 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:21:33,484 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:21:33,486 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 21:21:33,486 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 21:21:33,754 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:21:33,755 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35084')}} (websocket_helper.py:737)
2025-06-09 21:21:33,756 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2694.9, Qty=0.06703810, PnL%=50.39% (websocket_helper.py:703)
2025-06-09 21:21:33,756 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:21:33,756 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:21:34,040 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:21:34,044 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23277')}} (websocket_helper.py:776)
2025-06-09 21:21:34,045 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109692.25, Qty=0.00257846, PnL%=15.39% (websocket_helper.py:703)
2025-06-09 21:21:34,045 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:21:34,051 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:21:34,051 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.57s (listener.py:393)
2025-06-09 21:21:34,051 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:21:39,632 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:21:41,230 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:21:42,276 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:21:42,276 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:21:42,278 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:22:03,229 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.03s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:22:03,230 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:22:03,230 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:22:03,230 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:22:03,231 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:22:03,233 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:22:03,233 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:22:03,497 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:22:03,499 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('220.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35063')}} (websocket_helper.py:737)
2025-06-09 21:22:03,499 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2690.28, Qty=0.06703810, PnL%=50.13% (websocket_helper.py:703)
2025-06-09 21:22:03,499 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:22:03,499 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:22:03,830 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:22:03,832 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('220.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:22:03,832 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109627.07, Qty=0.00257846, PnL%=15.32% (websocket_helper.py:703)
2025-06-09 21:22:03,832 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:22:03,849 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:22:03,850 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.62s (listener.py:393)
2025-06-09 21:22:03,850 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:22:15,484 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:22:17,143 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:22:18,157 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:22:18,157 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:22:18,158 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:22:33,617 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.42s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:22:33,617 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:22:33,618 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:22:33,618 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:22:33,631 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:22:33,633 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:22:33,634 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:22:33,896 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:22:33,898 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('170.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36402')}} (websocket_helper.py:737)
2025-06-09 21:22:33,899 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9999, Qty=50.00, PnL%=-0.10% (websocket_helper.py:703)
2025-06-09 21:22:33,899 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.10% (websocket_helper.py:709)
2025-06-09 21:22:38,259 - webhook_logger - INFO - üü° Adjusted SELL limit price for LQTY-USD: 1.0000 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:22:38,905 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: LQTY-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:22:38,907 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'LQTY-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'LQTY', 'quote_currency': 'USD', 'usd_balance': Decimal('170.0000'), 'base_decimal': 2, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.99899999999999999911182158029987476766109466552734375'), 'lowest_ask': Decimal('1.0023999999999999577227072222740389406681060791015625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.0033999999999999998105681964233326652902178466320037841796875'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('50.00'), 'total_balance_crypto': Decimal('50.00'), 'available_to_trade_crypto': Decimal('50.00'), 'usd_avail_balance': Decimal('19.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('50.00'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.9992'), 'adjusted_size': Decimal('49.98'), 'stop_loss_price': Decimal('0.9892'), 'take_profit_price': Decimal('1.0267'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 21:22:38,907 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2687.15, Qty=0.06703810, PnL%=49.95% (websocket_helper.py:703)
2025-06-09 21:22:38,907 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:22:38,908 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:22:39,184 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:22:39,187 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23459')}} (websocket_helper.py:776)
2025-06-09 21:22:39,188 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109572.81, Qty=0.00257846, PnL%=15.26% (websocket_helper.py:703)
2025-06-09 21:22:39,188 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:22:39,190 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:22:39,190 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 5.57s (listener.py:393)
2025-06-09 21:22:39,191 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:22:44,394 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 21:22:46,042 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:22:47,043 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:22:47,044 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:22:47,045 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:23:04,422 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.22s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:23:04,423 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:23:04,423 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:23:04,423 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:23:04,425 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:23:04,426 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:23:04,427 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:23:04,703 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:23:04,705 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('170.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36402')}} (websocket_helper.py:737)
2025-06-09 21:23:04,705 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9999, Qty=0.02, PnL%=-0.10% (websocket_helper.py:703)
2025-06-09 21:23:04,705 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.10% (websocket_helper.py:709)
2025-06-09 21:23:04,964 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:23:04,966 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('572002')}} (websocket_helper.py:776)
2025-06-09 21:23:04,966 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2687.88, Qty=0.06703810, PnL%=49.99% (websocket_helper.py:703)
2025-06-09 21:23:04,966 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:23:04,966 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:23:05,272 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:23:05,274 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23459')}} (websocket_helper.py:776)
2025-06-09 21:23:05,274 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109548.21, Qty=0.00257846, PnL%=15.23% (websocket_helper.py:703)
2025-06-09 21:23:05,274 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:23:05,276 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:23:05,276 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.85s (listener.py:393)
2025-06-09 21:23:05,276 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:23:20,958 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:23:20,958 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:23:20,969 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 21:23:21,267 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:23:21,268 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:23:21,868 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:23:21,957 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:23:21,959 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:23:28,488 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:23:28,491 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:23:29,344 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 21:23:29,344 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:23:29,495 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:23:29,495 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:23:29,496 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:23:29,497 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:23:29,497 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:23:29,498 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:23:29,502 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 21:23:36,851 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 21:23:39,255 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 21:23:39,256 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:23:39,257 - webhook_logger - INFO - üì• Snapshot order tracked: 676b36a7-a74a-425f-95c1-bd3aef4aca06 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:23:39,257 - webhook_logger - INFO - üì• Snapshot order tracked: 0eb17c9c-9f69-4cee-9647-aa1f4b1f1875 | AVT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:23:39,258 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:23:39,260 - webhook_logger - INFO - üì• Snapshot order tracked: 97696643-b803-473a-b497-59b71e304c3b | MINA-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:23:39,260 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:24:24,299 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 21:24:36,161 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 75.19s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:24:36,162 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:24:36,165 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:24:36,166 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:24:36,193 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:24:36,194 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:24:36,217 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:24:36,220 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:24:36,220 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:24:36,272 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 21:24:36,379 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (6 open / 250 recent) (listener.py:894)
2025-06-09 21:24:36,973 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:24:36,978 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('170.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('34930')}} (websocket_helper.py:737)
2025-06-09 21:24:36,979 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9999, Qty=0.02, PnL%=-0.10% (websocket_helper.py:703)
2025-06-09 21:24:36,979 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.10% (websocket_helper.py:709)
2025-06-09 21:24:37,263 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:24:37,267 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('572002')}} (websocket_helper.py:776)
2025-06-09 21:24:37,267 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2685.66, Qty=0.06703810, PnL%=49.87% (websocket_helper.py:703)
2025-06-09 21:24:37,268 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:24:37,268 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:24:37,595 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:24:37,597 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23286')}} (websocket_helper.py:776)
2025-06-09 21:24:37,598 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109528.34, Qty=0.00257846, PnL%=15.21% (websocket_helper.py:703)
2025-06-09 21:24:37,598 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:24:37,600 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:24:37,600 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.44s (listener.py:393)
2025-06-09 21:24:37,600 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:24:41,954 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.35s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:24:41,954 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:24:41,954 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:24:41,954 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:24:41,956 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:24:41,958 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:24:41,958 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:24:42,239 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:24:42,242 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('170.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36402')}} (websocket_helper.py:737)
2025-06-09 21:24:42,242 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.999, Qty=0.02, PnL%=-0.19% (websocket_helper.py:703)
2025-06-09 21:24:42,243 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.19% (websocket_helper.py:709)
2025-06-09 21:24:42,509 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:24:42,513 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('571489')}} (websocket_helper.py:776)
2025-06-09 21:24:42,514 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2680.32, Qty=0.06703810, PnL%=49.57% (websocket_helper.py:703)
2025-06-09 21:24:42,514 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:24:42,514 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:24:42,816 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:24:42,821 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('170.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23459')}} (websocket_helper.py:776)
2025-06-09 21:24:42,821 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109455.91, Qty=0.00257846, PnL%=15.14% (websocket_helper.py:703)
2025-06-09 21:24:42,821 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:24:42,822 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:24:42,822 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.87s (listener.py:393)
2025-06-09 21:24:42,823 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:25:26,329 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:25:26,329 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:25:26,340 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 21:25:26,666 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:25:26,666 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:25:27,171 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (6 open / 250 recent) (listener.py:894)
2025-06-09 21:25:27,338 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:25:27,393 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:25:27,409 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:25:27,455 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:25:27,471 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:25:27,471 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 21:25:27,471 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:25:27,558 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 21:25:27,559 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 21:26:19,154 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 21:28:08,887 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:28:18,480 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:28:31,974 - webhook_logger - INFO - üì• Snapshot order tracked: 97696643-b803-473a-b497-59b71e304c3b | MINA-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:28:31,975 - webhook_logger - INFO - üì• Snapshot order tracked: 0eb17c9c-9f69-4cee-9647-aa1f4b1f1875 | AVT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:28:31,975 - webhook_logger - INFO - üì• Snapshot order tracked: 676b36a7-a74a-425f-95c1-bd3aef4aca06 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:28:31,975 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:28:32,021 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:28:32,021 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:28:32,023 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:28:32,025 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:28:32,025 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:28:32,026 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:28:32,034 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:28:32,034 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:28:32,035 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:28:32,035 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:28:32,053 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 21:44:13,755 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:44:13,755 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:44:13,764 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 21:44:14,067 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:44:14,068 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:44:14,724 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:44:14,727 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:44:14,773 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:44:14,788 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:44:14,793 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:44:14,794 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 21:44:14,794 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:44:14,799 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (5 open / 250 recent) (listener.py:894)
2025-06-09 21:44:14,961 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 21:44:17,907 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 21:44:17,909 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:44:17,909 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:44:17,910 - webhook_logger - INFO - üì• Snapshot order tracked: 0eb17c9c-9f69-4cee-9647-aa1f4b1f1875 | AVT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:44:17,910 - webhook_logger - INFO - üì• Snapshot order tracked: 676b36a7-a74a-425f-95c1-bd3aef4aca06 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:44:17,910 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:44:17,911 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:243)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 239, in process_user_channel
    om_verify = await self.shared_data_manager.get_order_management()
AttributeError: 'SharedDataManager' object has no attribute 'get_order_management'
2025-06-09 21:44:17,916 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 21:44:17,934 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:44:17,935 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:44:17,936 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:44:17,937 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:44:17,938 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:44:17,939 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:44:17,971 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 21:44:18,182 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 21:44:21,181 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 7.42s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:44:21,181 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:44:21,181 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:44:21,182 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:44:21,183 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:44:21,185 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:44:21,185 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:44:21,480 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:44:21,483 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35197')}} (websocket_helper.py:737)
2025-06-09 21:44:21,483 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9874, Qty=0.02, PnL%=-1.35% (websocket_helper.py:703)
2025-06-09 21:44:21,484 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.35% (websocket_helper.py:709)
2025-06-09 21:44:21,761 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:44:21,764 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556365')}} (websocket_helper.py:776)
2025-06-09 21:44:21,764 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2679.3, Qty=0.06703810, PnL%=49.52% (websocket_helper.py:703)
2025-06-09 21:44:21,765 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:44:21,765 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:44:22,054 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:44:22,057 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 21:44:22,057 - webhook_logger - INFO - üîé MINA-USD: Entry=0.205, Now=0.206, Qty=245.099, PnL%=0.49% (websocket_helper.py:703)
2025-06-09 21:44:22,057 - webhook_logger - INFO - üõë SL trigger for MINA-USD: 0.49% (websocket_helper.py:709)
2025-06-09 21:44:26,391 - webhook_logger - INFO - üü° Adjusted SELL limit price for MINA-USD: 0.206 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:44:29,983 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: MINA-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:44:29,985 - webhook_logger - ERROR - ‚ùå SL order for MINA-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'MINA-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'MINA', 'quote_currency': 'USD', 'usd_balance': Decimal('119.000'), 'base_decimal': 3, 'quote_decimal': 3, 'quote_increment': Decimal('0.001'), 'highest_bid': Decimal('0.2049999999999999877875467291232780553400516510009765625'), 'lowest_ask': Decimal('0.2059999999999999886757251488234032876789569854736328125'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.001000000000000000020816681711721685132943093776702880859375'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('245.100'), 'total_balance_crypto': Decimal('245.100'), 'available_to_trade_crypto': Decimal('245.100'), 'usd_avail_balance': Decimal('19.000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('245.100'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.207'), 'adjusted_size': Decimal('245.098'), 'stop_loss_price': Decimal('0.204'), 'take_profit_price': Decimal('0.212'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 21:44:29,986 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109459.15, Qty=0.00257846, PnL%=15.14% (websocket_helper.py:703)
2025-06-09 21:44:29,986 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:44:29,991 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:44:29,991 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 8.81s (listener.py:393)
2025-06-09 21:44:29,991 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:44:37,073 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:243)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 239, in process_user_channel
    om_verify = await self.shared_data_manager.get_order_management()
AttributeError: 'SharedDataManager' object has no attribute 'get_order_management'
2025-06-09 21:49:28,453 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:49:28,453 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:49:28,463 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 21:49:29,143 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 21:49:29,144 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 21:49:29,687 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 21:49:29,785 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:49:29,802 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:49:29,827 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:49:29,971 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 21:49:29,971 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 21:49:29,975 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 21:49:29,975 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:49:29,975 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:49:29,975 - webhook_logger - INFO - üì• Snapshot order tracked: 676b36a7-a74a-425f-95c1-bd3aef4aca06 | KRL-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:49:29,975 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:153)
2025-06-09 21:49:45,033 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 21:49:45,057 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:49:45,058 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:49:45,058 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:49:45,093 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 21:49:45,133 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 21:49:45,136 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 21:49:45,234 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 21:49:48,406 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 19.94s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:49:48,406 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:49:48,406 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:49:48,406 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:49:48,408 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:49:48,410 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:49:48,411 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:49:48,719 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:49:48,721 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35063')}} (websocket_helper.py:737)
2025-06-09 21:49:48,722 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9874, Qty=0.02, PnL%=-1.35% (websocket_helper.py:703)
2025-06-09 21:49:48,722 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.35% (websocket_helper.py:709)
2025-06-09 21:49:48,983 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:49:48,986 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556365')}} (websocket_helper.py:776)
2025-06-09 21:49:48,986 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2674.17, Qty=0.06703810, PnL%=49.23% (websocket_helper.py:703)
2025-06-09 21:49:48,987 - webhook_logger - INFO - üîé AVT-USD: Entry=1.59, Now=1.58, Qty=31.66, PnL%=-0.63% (websocket_helper.py:703)
2025-06-09 21:49:48,987 - webhook_logger - INFO - üõë SL trigger for AVT-USD: -0.63% (websocket_helper.py:709)
2025-06-09 21:49:49,482 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:49:49,490 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 21:49:49,490 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 21:49:49,490 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 21:49:50,484 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:49:50,485 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:49:50,486 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:49:53,948 - webhook_logger - INFO - üü° Adjusted SELL limit price for AVT-USD: 1.59 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:49:57,657 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AVT-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:49:57,660 - webhook_logger - ERROR - ‚ùå SL order for AVT-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'AVT-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'AVT', 'quote_currency': 'USD', 'usd_balance': Decimal('119.00'), 'base_decimal': 2, 'quote_decimal': 2, 'quote_increment': Decimal('0.01'), 'highest_bid': Decimal('1.5800000000000000710542735760100185871124267578125'), 'lowest_ask': Decimal('1.600000000000000088817841970012523233890533447265625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.0200000000000000004163336342344337026588618755340576171875'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('31.66'), 'total_balance_crypto': Decimal('31.66'), 'available_to_trade_crypto': Decimal('31.66'), 'usd_avail_balance': Decimal('69.00'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('31.66'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('1.60'), 'adjusted_size': Decimal('31.64'), 'stop_loss_price': Decimal('1.58'), 'take_profit_price': Decimal('1.64'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 21:49:57,660 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:49:57,660 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:49:57,859 - webhook_logger - INFO - ‚ùé 676b36a7-a74a-425f-95c1-bd3aef4aca06 CANCEL_QUEUED ‚Üí deleted from DB (websocket_market_manager.py:183)
2025-06-09 21:49:57,881 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:49:57,912 - webhook_logger - INFO - ‚ùé 676b36a7-a74a-425f-95c1-bd3aef4aca06 CANCELLED ‚Üí deleted from DB (websocket_market_manager.py:183)
2025-06-09 21:49:57,938 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:49:57,964 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:49:57,967 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 21:49:57,967 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109401.89, Qty=0.00257846, PnL%=15.08% (websocket_helper.py:703)
2025-06-09 21:49:57,968 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:49:57,973 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:49:57,973 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 9.57s (listener.py:393)
2025-06-09 21:49:57,973 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:49:57,983 - webhook_logger - INFO - ‚ùé 676b36a7-a74a-425f-95c1-bd3aef4aca06 CANCELLED ‚Üí deleted from DB (websocket_market_manager.py:183)
2025-06-09 21:49:58,001 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:49:58,017 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:49:58,032 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:50:01,526 - webhook_logger - INFO - üü° Adjusted BUY limit price for WCFG-USD: 0.188 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:50:02,089 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: WCFG-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.188'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:50:51,679 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 21:51:03,417 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 21:51:04,130 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:51:04,169 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 21:51:11,512 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 69.40s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:51:11,512 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:51:11,513 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:51:11,513 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:51:11,514 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:51:11,516 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:51:11,516 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:51:11,596 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:51:11,596 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:51:11,598 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:51:11,599 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 21:51:11,599 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 21:51:11,600 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 21:51:11,826 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:51:11,829 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36402')}} (websocket_helper.py:737)
2025-06-09 21:51:11,830 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9874, Qty=0.02, PnL%=-1.35% (websocket_helper.py:703)
2025-06-09 21:51:11,830 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.35% (websocket_helper.py:709)
2025-06-09 21:51:12,098 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:51:12,101 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556365')}} (websocket_helper.py:776)
2025-06-09 21:51:12,101 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2674.82, Qty=0.06703810, PnL%=49.27% (websocket_helper.py:703)
2025-06-09 21:51:12,101 - webhook_logger - INFO - üîé AVT-USD: Entry=1.59, Now=1.58, Qty=0.02, PnL%=-0.63% (websocket_helper.py:703)
2025-06-09 21:51:12,101 - webhook_logger - INFO - üõë SL trigger for AVT-USD: -0.63% (websocket_helper.py:709)
2025-06-09 21:51:12,936 - webhook_logger - INFO - ‚ùå Order validation failed for AVT-USD: ‚ö†Ô∏è AVT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:51:12,938 - webhook_logger - ERROR - ‚ùå SL order for AVT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell AVT.', 'code': '414', 'message': 'Order validation failed for AVT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'AVT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'AVT-USD', 'side': 'sell', 'base_balance': Decimal('31.66'), 'base_bal_value': Decimal('0.03'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è AVT-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('81324')}} (websocket_helper.py:776)
2025-06-09 21:51:12,939 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:51:12,939 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:51:13,216 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:51:13,217 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23178')}} (websocket_helper.py:776)
2025-06-09 21:51:13,218 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109399.93, Qty=0.00257846, PnL%=15.08% (websocket_helper.py:703)
2025-06-09 21:51:13,218 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:51:13,219 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:51:13,219 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.71s (listener.py:393)
2025-06-09 21:51:13,219 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:51:17,237 - webhook_logger - INFO - üü° Adjusted BUY limit price for AXL-USD: 0.5144 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:51:17,835 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AXL-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.5121'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:52:03,451 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 21:52:03,474 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:52:03,477 - webhook_logger - INFO - ‚úÖ Order filled: 54152c74-f904-4b8a-9fac-e58eb0d022d5 at 0.5144 with fee 0.07499952 (websocket_market_manager.py:232)
2025-06-09 21:52:07,038 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 53.82s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:52:07,038 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:52:07,038 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:52:07,039 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:52:10,143 - webhook_logger - INFO - üü° Adjusted BUY limit price for FX-USD: 0.1614 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:52:10,574 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:52:10,575 - webhook_logger - INFO - üü° Adjusted BUY limit price for FX-USD: 0.1613 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:52:11,023 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:52:11,024 - webhook_logger - INFO - üü° Adjusted BUY limit price for FX-USD: 0.1612 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:52:11,636 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:52:11,636 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: FX-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.1609'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:52:11,651 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:52:11,654 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:52:11,654 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:52:11,929 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:11,933 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35063')}} (websocket_helper.py:737)
2025-06-09 21:52:11,934 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9874, Qty=0.02, PnL%=-1.35% (websocket_helper.py:703)
2025-06-09 21:52:11,934 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.35% (websocket_helper.py:709)
2025-06-09 21:52:12,581 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:12,583 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556365')}} (websocket_helper.py:776)
2025-06-09 21:52:12,583 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2673.84, Qty=0.06703810, PnL%=49.21% (websocket_helper.py:703)
2025-06-09 21:52:12,583 - webhook_logger - INFO - üîé AVT-USD: Entry=1.59, Now=1.58, Qty=0.02, PnL%=-0.63% (websocket_helper.py:703)
2025-06-09 21:52:12,583 - webhook_logger - INFO - üõë SL trigger for AVT-USD: -0.63% (websocket_helper.py:709)
2025-06-09 21:52:12,859 - webhook_logger - INFO - ‚ùå Order validation failed for AVT-USD: ‚ö†Ô∏è AVT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:12,861 - webhook_logger - ERROR - ‚ùå SL order for AVT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell AVT.', 'code': '414', 'message': 'Order validation failed for AVT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'AVT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'AVT-USD', 'side': 'sell', 'base_balance': Decimal('31.66'), 'base_bal_value': Decimal('0.03'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è AVT-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('81304')}} (websocket_helper.py:776)
2025-06-09 21:52:12,862 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:52:12,862 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:52:13,167 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:13,169 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 21:52:13,170 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109390.74, Qty=0.00257846, PnL%=15.07% (websocket_helper.py:703)
2025-06-09 21:52:13,170 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:52:13,171 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:52:13,171 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.13s (listener.py:393)
2025-06-09 21:52:13,171 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:52:16,516 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:52:16,517 - webhook_logger - INFO - ‚úÖ Order filled: 54152c74-f904-4b8a-9fac-e58eb0d022d5 at 0.5144 with fee 0.07499952 (websocket_market_manager.py:232)
2025-06-09 21:52:19,620 - webhook_logger - INFO - üü° Adjusted BUY limit price for KEYCAT-USD: 0.004722 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:52:20,026 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:52:20,026 - webhook_logger - INFO - üü° Adjusted BUY limit price for KEYCAT-USD: 0.004719 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 21:52:20,451 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:52:20,451 - webhook_logger - INFO - üü° Adjusted BUY limit price for KEYCAT-USD: 0.004717 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 21:52:20,883 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 21:52:20,883 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: KEYCAT-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.004714'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:52:25,206 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:52:28,495 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 15.32s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 21:52:28,496 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 21:52:28,496 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 21:52:28,496 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 21:52:28,498 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 21:52:28,500 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 21:52:28,500 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 21:52:28,785 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:28,789 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('69.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35197')}} (websocket_helper.py:737)
2025-06-09 21:52:28,789 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9874, Qty=0.02, PnL%=-1.35% (websocket_helper.py:703)
2025-06-09 21:52:28,789 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.35% (websocket_helper.py:709)
2025-06-09 21:52:29,055 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:29,058 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('69.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556365')}} (websocket_helper.py:776)
2025-06-09 21:52:29,059 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2669.89, Qty=0.06703810, PnL%=48.99% (websocket_helper.py:703)
2025-06-09 21:52:29,059 - webhook_logger - INFO - üîé AVT-USD: Entry=1.59, Now=1.58, Qty=0.02, PnL%=-0.63% (websocket_helper.py:703)
2025-06-09 21:52:29,059 - webhook_logger - INFO - üõë SL trigger for AVT-USD: -0.63% (websocket_helper.py:709)
2025-06-09 21:52:29,355 - webhook_logger - INFO - ‚ùå Order validation failed for AVT-USD: ‚ö†Ô∏è AVT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:29,357 - webhook_logger - ERROR - ‚ùå SL order for AVT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell AVT.', 'code': '414', 'message': 'Order validation failed for AVT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'AVT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'AVT-USD', 'side': 'sell', 'base_balance': Decimal('31.66'), 'base_bal_value': Decimal('0.03'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('19.00'), 'usd_balance': Decimal('69.00'), 'condition': '‚ö†Ô∏è AVT-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 2, 'order_amount_fiat': Decimal('19.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('81304')}} (websocket_helper.py:776)
2025-06-09 21:52:29,358 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 21:52:29,358 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 21:52:29,652 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 21:52:29,655 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('69.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 21:52:29,656 - webhook_logger - INFO - üîé AXL-USD: Entry=0.5144, Now=0.5167, Qty=97.2, PnL%=0.45% (websocket_helper.py:703)
2025-06-09 21:52:29,656 - webhook_logger - INFO - üõë SL trigger for AXL-USD: 0.45% (websocket_helper.py:709)
2025-06-09 21:52:34,439 - webhook_logger - INFO - üü° Adjusted SELL limit price for AXL-USD: 0.5184 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 21:52:35,002 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AXL-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 21:52:35,004 - webhook_logger - ERROR - ‚ùå SL order for AXL-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'AXL-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'AXL', 'quote_currency': 'USD', 'usd_balance': Decimal('69.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.51680000000000003712585794346523471176624298095703125'), 'lowest_ask': Decimal('0.52119999999999999662492200513952411711215972900390625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.004400000000000000265065747129256124026142060756683349609375'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('97.2'), 'total_balance_crypto': Decimal('97.2'), 'available_to_trade_crypto': Decimal('97.2'), 'usd_avail_balance': Decimal('19.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('97.2'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.5180'), 'adjusted_size': Decimal('97.0'), 'stop_loss_price': Decimal('0.5128'), 'take_profit_price': Decimal('0.5322'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 21:52:35,005 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109322.64, Qty=0.00257846, PnL%=15.00% (websocket_helper.py:703)
2025-06-09 21:52:35,005 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 21:52:35,013 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 21:52:35,013 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.52s (listener.py:393)
2025-06-09 21:52:35,013 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 21:52:35,070 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:52:35,091 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:52:35,107 - webhook_logger - INFO - üí∞ AXL-USD SELL profit 1.00 USD (websocket_market_manager.py:230)
2025-06-09 21:52:35,108 - webhook_logger - INFO - ‚úÖ Order filled: d411260d-8e06-4e91-9190-069decda7209 at 0.5184 with fee 0.0754272 (websocket_market_manager.py:232)
2025-06-09 21:54:57,124 - webhook_logger - ERROR - process_user_channel error (websocket_market_manager.py:244)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'
2025-06-09 21:54:57,151 - webhook_logger - INFO - üí∞ AXL-USD SELL profit 1.00 USD (websocket_market_manager.py:230)
2025-06-09 21:54:57,152 - webhook_logger - INFO - ‚úÖ Order filled: d411260d-8e06-4e91-9190-069decda7209 at 0.5184 with fee 0.0754272 (websocket_market_manager.py:232)
2025-06-09 22:04:53,948 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:04:53,948 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:04:53,957 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:04:54,262 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:04:54,262 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:04:54,764 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:04:55,051 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:04:55,085 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:04:55,101 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:04:55,104 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:04:55,104 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:04:55,104 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:04:55,114 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:04:55,258 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:04:55,260 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:04:55,265 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:04:55,266 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:04:55,269 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:04:55,270 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:04:55,271 - webhook_logger - INFO - üì• Snapshot order tracked: 15fc1607-c8c3-4adc-8ba3-c89adcc95c15 | WCFG-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:04:55,293 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:04:58,426 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.47s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:04:58,427 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:04:58,427 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:04:58,427 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:04:58,428 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:04:58,430 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:04:58,430 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:04:58,475 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:04:58,476 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:04:58,477 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:04:58,478 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:04:58,478 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:04:58,479 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:04:58,480 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:04:58,653 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:04:58,927 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:04:58,930 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('119.00'), 'usd_balance': Decimal('169.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('34794')}} (websocket_helper.py:737)
2025-06-09 22:04:58,930 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.992, Qty=0.02, PnL%=-0.89% (websocket_helper.py:703)
2025-06-09 22:04:58,930 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.89% (websocket_helper.py:709)
2025-06-09 22:04:59,192 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:04:59,195 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('119.0000'), 'usd_balance': Decimal('169.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('559849')}} (websocket_helper.py:776)
2025-06-09 22:04:59,195 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2662.16, Qty=0.06703810, PnL%=48.56% (websocket_helper.py:703)
2025-06-09 22:04:59,195 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:04:59,196 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:04:59,464 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:04:59,466 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('119.0000'), 'usd_balance': Decimal('169.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('22996')}} (websocket_helper.py:776)
2025-06-09 22:04:59,467 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109254.01, Qty=0.00257846, PnL%=14.93% (websocket_helper.py:703)
2025-06-09 22:04:59,467 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:04:59,468 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:04:59,468 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.04s (listener.py:393)
2025-06-09 22:04:59,468 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:05:05,234 - webhook_logger - INFO - üü° Adjusted BUY limit price for INV-USD: 29.09 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:05:08,736 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: INV-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:28.39'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:05:08,793 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:08,815 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:09,014 - webhook_logger - INFO - ‚úÖ Order filled: 024c33c9-e3c3-437f-aa52-f832b668be42 at 29.09 with fee 0.0750740175 (websocket_market_manager.py:239)
2025-06-09 22:05:13,514 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:13,515 - webhook_logger - INFO - ‚úÖ Order filled: 024c33c9-e3c3-437f-aa52-f832b668be42 at 29.09 with fee 0.0750740175 (websocket_market_manager.py:239)
2025-06-09 22:05:17,511 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:25,329 - webhook_logger - INFO - üü° Adjusted BUY limit price for AVT-USD: 1.58 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:05:25,773 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AVT-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:1.58'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:05:26,222 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:26,237 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:30,105 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.32s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:05:30,106 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:05:30,106 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:05:30,106 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:05:30,107 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:05:30,109 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:05:30,109 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:05:30,435 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:05:30,437 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('69.00'), 'usd_balance': Decimal('119.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('34794')}} (websocket_helper.py:737)
2025-06-09 22:05:30,438 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.992, Qty=0.02, PnL%=-0.89% (websocket_helper.py:703)
2025-06-09 22:05:30,438 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.89% (websocket_helper.py:709)
2025-06-09 22:05:30,684 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:05:30,686 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('69.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('559849')}} (websocket_helper.py:776)
2025-06-09 22:05:30,686 - webhook_logger - INFO - üîé INV-USD: Entry=26.25, Now=29.09, Qty=1.7206, PnL%=10.82% (websocket_helper.py:703)
2025-06-09 22:05:30,686 - webhook_logger - INFO - üí∞ TP trigger for INV-USD: 10.82% (websocket_helper.py:706)
2025-06-09 22:05:35,412 - webhook_logger - INFO - üü° Adjusted SELL limit price for INV-USD: 28.42 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:05:35,862 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: INV-USD:{'trigger': 'TP', 'trigger_note': 'price=29.09'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:05:35,864 - webhook_logger - ERROR - ‚ùå TP order for INV-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'INV-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'INV', 'quote_currency': 'USD', 'usd_balance': Decimal('119.00'), 'base_decimal': 4, 'quote_decimal': 2, 'quote_increment': Decimal('0.01'), 'highest_bid': Decimal('28.3900000000000005684341886080801486968994140625'), 'lowest_ask': Decimal('28.92999999999999971578290569595992565155029296875'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.54000000000000003552713678800500929355621337890625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=29.09'}, 'base_avail_balance': Decimal('1.7207'), 'total_balance_crypto': Decimal('1.7207'), 'available_to_trade_crypto': Decimal('1.7207'), 'usd_avail_balance': Decimal('69.00'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('1.7207'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('28.41'), 'adjusted_size': Decimal('1.7205'), 'stop_loss_price': Decimal('28.12'), 'take_profit_price': Decimal('29.19'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:737)
2025-06-09 22:05:35,864 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2662.73, Qty=0.06703810, PnL%=48.59% (websocket_helper.py:703)
2025-06-09 22:05:35,864 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:05:35,864 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:05:36,025 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:36,039 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:36,050 - webhook_logger - INFO - üí∞ INV-USD SELL profit 1.00 USD (websocket_market_manager.py:237)
2025-06-09 22:05:36,051 - webhook_logger - INFO - ‚úÖ Order filled: dd82059c-5076-4266-8250-207305c58c0c at 28.42 with fee 0.073344915 (websocket_market_manager.py:239)
2025-06-09 22:05:36,389 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:05:36,390 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('19.0000'), 'usd_balance': Decimal('119.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('19.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 22:05:36,391 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109263.24, Qty=0.00257846, PnL%=14.93% (websocket_helper.py:703)
2025-06-09 22:05:36,391 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:05:36,405 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:05:36,405 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.30s (listener.py:393)
2025-06-09 22:05:36,405 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:05:39,876 - webhook_logger - INFO - üü° Adjusted BUY limit price for OCEAN-USD: 0.3451 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:05:40,327 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: OCEAN-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.3434'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:05:45,119 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:45,131 - webhook_logger - INFO - üí∞ INV-USD SELL profit 1.00 USD (websocket_market_manager.py:237)
2025-06-09 22:05:45,132 - webhook_logger - INFO - ‚úÖ Order filled: dd82059c-5076-4266-8250-207305c58c0c at 28.42 with fee 0.073344915 (websocket_market_manager.py:239)
2025-06-09 22:05:49,552 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:49,570 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:05:49,587 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 248, in process_user_channel
    self.logger.debug(f"üîç Post-update tracker count: {len(om_verify.get('order_tracker', {}))}")
AttributeError: 'tuple' object has no attribute 'get'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 249, in process_user_channel
    self.logger.debug(f"üßæ order_tracker contains {len(om_snap['order_tracker'])} live orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:06:00,189 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.41s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:06:00,189 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:06:00,189 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:06:00,190 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:06:00,191 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:06:00,194 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:06:00,194 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:06:00,472 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:00,474 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('17.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('17.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35195')}} (websocket_helper.py:737)
2025-06-09 22:06:00,474 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.992, Qty=0.02, PnL%=-0.89% (websocket_helper.py:703)
2025-06-09 22:06:00,475 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.89% (websocket_helper.py:709)
2025-06-09 22:06:00,577 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:06:00,578 - webhook_logger - WARNING - ‚ö†Ô∏è refresh_market_data was cancelled by the event loop. (listener.py:402)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 392, in refresh_market_data
    await self.websocket_helper.monitor_and_update_active_orders(new_market_data, new_order_management)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 638, in monitor_and_update_active_orders
    await asyncio.wait_for(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/tasks.py", line 432, in wait_for
    await waiter
asyncio.exceptions.CancelledError
2025-06-09 22:06:00,578 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 392, in refresh_market_data
    await self.websocket_helper.monitor_and_update_active_orders(new_market_data, new_order_management)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 638, in monitor_and_update_active_orders
    await asyncio.wait_for(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/tasks.py", line 432, in wait_for
    await waiter
asyncio.exceptions.CancelledError
2025-06-09 22:06:00,597 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 22:06:00,733 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 22:06:00,739 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 22:06:00,743 - webhook_logger - WARNING - ‚ö†Ô∏è WebSocket connection task was cancelled. (listener.py:124)
2025-06-09 22:06:09,876 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:06:09,876 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:06:09,885 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:06:10,554 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:06:10,555 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:06:11,064 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (6 open / 250 recent) (listener.py:894)
2025-06-09 22:06:11,245 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:06:11,248 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:06:11,264 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:06:11,271 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:06:11,272 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:06:11,272 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:06:11,280 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:06:11,423 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:06:11,423 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:06:11,426 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:06:11,426 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:06:11,427 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:06:11,427 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:06:11,427 - webhook_logger - INFO - üì• Snapshot order tracked: 3bc94567-571d-46b8-8934-07fdda0f22d9 | OCEAN-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:06:11,427 - webhook_logger - INFO - üì• Snapshot order tracked: 15fc1607-c8c3-4adc-8ba3-c89adcc95c15 | WCFG-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:06:11,428 - webhook_logger - INFO - üì• Snapshot order tracked: 6558f893-ed34-4521-9944-7cfa4fd9b29e | AVT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:06:33,188 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:06:33,188 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:06:33,189 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:06:33,190 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:06:33,190 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:06:33,191 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:06:33,198 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:06:33,443 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:06:36,585 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 26.70s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:06:36,586 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:06:36,586 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:06:36,586 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:06:36,588 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:06:36,590 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:06:36,590 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:06:36,857 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:36,861 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('17.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('17.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35195')}} (websocket_helper.py:737)
2025-06-09 22:06:36,861 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.992, Qty=0.02, PnL%=-0.89% (websocket_helper.py:703)
2025-06-09 22:06:36,861 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.89% (websocket_helper.py:709)
2025-06-09 22:06:37,129 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:37,132 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('17.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('17.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('559849')}} (websocket_helper.py:776)
2025-06-09 22:06:37,133 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2662.85, Qty=0.06703810, PnL%=48.60% (websocket_helper.py:703)
2025-06-09 22:06:37,133 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:06:37,133 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:06:37,416 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:37,419 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('17.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('17.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 22:06:37,420 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109252.92, Qty=0.00257846, PnL%=14.92% (websocket_helper.py:703)
2025-06-09 22:06:37,421 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:06:37,423 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:06:37,423 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.84s (listener.py:393)
2025-06-09 22:06:37,423 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:06:44,076 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.19s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:06:44,080 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:06:44,081 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:06:44,081 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:06:44,085 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:06:44,088 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:06:44,091 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:06:44,442 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:44,444 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('17.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('17.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('34794')}} (websocket_helper.py:737)
2025-06-09 22:06:44,444 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.992, Qty=0.02, PnL%=-0.89% (websocket_helper.py:703)
2025-06-09 22:06:44,445 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.89% (websocket_helper.py:709)
2025-06-09 22:06:44,711 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:44,714 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('17.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('17.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('559849')}} (websocket_helper.py:776)
2025-06-09 22:06:44,715 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2662.07, Qty=0.06703810, PnL%=48.55% (websocket_helper.py:703)
2025-06-09 22:06:44,715 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:06:44,715 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:06:45,001 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:06:45,004 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('17.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('17.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('22996')}} (websocket_helper.py:776)
2025-06-09 22:06:45,005 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109261.0, Qty=0.00257846, PnL%=14.93% (websocket_helper.py:703)
2025-06-09 22:06:45,005 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:06:45,007 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:06:45,007 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.93s (listener.py:393)
2025-06-09 22:06:45,007 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:06:56,762 - webhook_logger - INFO - üìâ Skipping passive SELL for LQTY-USD ‚Äî average_close (0.992) < current_price (0.9930) (passive_order_manager.py:329)
2025-06-09 22:07:14,207 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.32s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:07:14,207 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:07:14,208 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:07:14,208 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:07:14,209 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:07:14,211 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:07:14,211 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:07:14,483 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:07:14,486 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('17.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('17.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('34794')}} (websocket_helper.py:737)
2025-06-09 22:07:14,487 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.992, Qty=0.02, PnL%=-0.89% (websocket_helper.py:703)
2025-06-09 22:07:14,487 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -0.89% (websocket_helper.py:709)
2025-06-09 22:07:14,762 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:07:14,766 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('17.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('17.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('559849')}} (websocket_helper.py:776)
2025-06-09 22:07:14,766 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2659.15, Qty=0.06703810, PnL%=48.39% (websocket_helper.py:703)
2025-06-09 22:07:14,767 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:07:14,767 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:07:15,061 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:07:15,063 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('17.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('17.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('22996')}} (websocket_helper.py:776)
2025-06-09 22:07:15,063 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109183.14, Qty=0.00257846, PnL%=14.85% (websocket_helper.py:703)
2025-06-09 22:07:15,063 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:07:15,064 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:07:15,064 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.86s (listener.py:393)
2025-06-09 22:07:15,065 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:07:16,487 - webhook_logger - INFO - ‚ùé 15fc1607-c8c3-4adc-8ba3-c89adcc95c15 CANCEL_QUEUED ‚Üí deleted from DB (websocket_market_manager.py:190)
2025-06-09 22:09:06,406 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:09:06,406 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:09:06,418 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:09:06,722 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:09:06,722 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:09:07,291 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:09:07,308 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:09:07,313 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:09:07,365 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:09:07,535 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:09:07,539 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:09:07,541 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:09:07,544 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:09:07,546 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:09:07,546 - webhook_logger - INFO - üì• Snapshot order tracked: 6558f893-ed34-4521-9944-7cfa4fd9b29e | AVT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:09:34,101 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:09:34,259 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:09:34,259 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:09:34,260 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:09:34,262 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:09:34,262 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:09:34,263 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:09:34,296 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:09:34,372 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 22:09:34,387 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:09:34,423 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:09:37,421 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 31.00s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:09:37,421 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:09:37,421 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:09:37,422 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:09:37,423 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:09:37,425 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:09:37,425 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:09:37,713 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:09:37,718 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('68.00'), 'usd_balance': Decimal('118.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36399')}} (websocket_helper.py:737)
2025-06-09 22:09:37,718 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.986, Qty=0.02, PnL%=-1.49% (websocket_helper.py:703)
2025-06-09 22:09:37,718 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.49% (websocket_helper.py:709)
2025-06-09 22:09:38,045 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:09:38,047 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('68.0000'), 'usd_balance': Decimal('118.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556468')}} (websocket_helper.py:776)
2025-06-09 22:09:38,048 - webhook_logger - INFO - üîé OCEAN-USD: Entry=0.3451, Now=0.3454, Qty=145.0, PnL%=0.09% (websocket_helper.py:703)
2025-06-09 22:09:38,048 - webhook_logger - INFO - üõë SL trigger for OCEAN-USD: 0.09% (websocket_helper.py:709)
2025-06-09 22:09:38,110 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:09:38,110 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:09:38,110 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:09:42,957 - webhook_logger - INFO - üü° Adjusted SELL limit price for OCEAN-USD: 0.3449 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:09:46,602 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: OCEAN-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:09:46,604 - webhook_logger - ERROR - ‚ùå SL order for OCEAN-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'OCEAN-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'OCEAN', 'quote_currency': 'USD', 'usd_balance': Decimal('118.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.344499999999999972910558199146180413663387298583984375'), 'lowest_ask': Decimal('0.345399999999999984812149023127858527004718780517578125'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00089999999999999997536692664112933925935067236423492431640625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('145.0'), 'total_balance_crypto': Decimal('145.0'), 'available_to_trade_crypto': Decimal('145.0'), 'usd_avail_balance': Decimal('68.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('145.0'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.3447'), 'adjusted_size': Decimal('144.8'), 'stop_loss_price': Decimal('0.3412'), 'take_profit_price': Decimal('0.3542'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 22:09:46,604 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2662.29, Qty=0.06703810, PnL%=48.57% (websocket_helper.py:703)
2025-06-09 22:09:46,604 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:09:46,604 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:10:14,913 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:10:14,913 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:10:14,925 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:10:15,248 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:10:15,248 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:10:15,771 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:10:15,787 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:10:15,797 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:10:15,842 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:10:15,845 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:10:15,845 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:10:15,845 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:10:15,887 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 22:10:15,933 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:10:15,935 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:10:15,935 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:10:15,935 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:10:15,936 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:10:27,961 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:10:28,004 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:10:28,005 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:10:28,006 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:10:28,007 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:10:28,008 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:10:28,009 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:10:28,013 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:10:28,162 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:10:31,874 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 16.95s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:10:31,874 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:10:31,875 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:10:31,875 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:10:31,877 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:10:31,879 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:10:31,879 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:10:32,170 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:10:32,174 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('168.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35196')}} (websocket_helper.py:737)
2025-06-09 22:10:32,175 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.986, Qty=0.02, PnL%=-1.49% (websocket_helper.py:703)
2025-06-09 22:10:32,175 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.49% (websocket_helper.py:709)
2025-06-09 22:10:32,431 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:10:32,433 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('168.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556470')}} (websocket_helper.py:776)
2025-06-09 22:10:32,433 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2664.58, Qty=0.06703810, PnL%=48.69% (websocket_helper.py:703)
2025-06-09 22:10:32,434 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:10:32,434 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:10:32,711 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:10:32,715 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('168.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23005')}} (websocket_helper.py:776)
2025-06-09 22:10:32,716 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109311.9, Qty=0.00257846, PnL%=14.99% (websocket_helper.py:703)
2025-06-09 22:10:32,716 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:10:32,717 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:10:32,718 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.84s (listener.py:393)
2025-06-09 22:10:32,718 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:10:37,339 - webhook_logger - INFO - üü° Adjusted BUY limit price for BADGER-USD: 1.02 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:10:40,797 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: BADGER-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:1.02'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:15:18,119 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:15:18,119 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:15:18,128 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:15:18,437 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:15:18,437 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:15:19,097 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:15:19,112 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:15:19,118 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:15:19,132 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:15:19,133 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:15:19,133 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:15:19,137 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:15:19,274 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:15:19,274 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:16:29,076 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:16:41,271 - webhook_logger - INFO - üì• Snapshot order tracked: 3c5134a0-a56c-4010-a00f-d1e165273836 | BADGER-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:16:47,403 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:16:47,404 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:16:47,404 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:17:49,290 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:17:49,290 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:17:49,291 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:17:49,292 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:17:49,292 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:17:49,293 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:17:49,299 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:17:49,299 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:17:49,300 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:17:49,300 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:17:49,319 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:17:49,411 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:17:49,524 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:17:53,003 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 154.88s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:17:53,003 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:17:53,004 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:17:53,004 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:17:53,005 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:17:53,006 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:17:53,007 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:17:53,272 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:17:53,274 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('117.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36399')}} (websocket_helper.py:737)
2025-06-09 22:17:53,275 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.986, Qty=0.02, PnL%=-1.49% (websocket_helper.py:703)
2025-06-09 22:17:53,275 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.49% (websocket_helper.py:709)
2025-06-09 22:17:53,526 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:17:53,528 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('117.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('556470')}} (websocket_helper.py:776)
2025-06-09 22:17:53,528 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2660.79, Qty=0.06703810, PnL%=48.48% (websocket_helper.py:703)
2025-06-09 22:17:53,529 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:17:53,529 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:17:53,792 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:17:53,794 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('117.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23168')}} (websocket_helper.py:776)
2025-06-09 22:17:53,794 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109275.52, Qty=0.00257846, PnL%=14.95% (websocket_helper.py:703)
2025-06-09 22:17:53,794 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:17:53,795 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:17:53,795 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.79s (listener.py:393)
2025-06-09 22:17:53,795 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:17:58,127 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.33s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:17:58,127 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:17:58,128 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:17:58,128 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:17:58,129 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:17:58,131 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:17:58,131 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:22:02,809 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:22:02,811 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('117.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('34923')}} (websocket_helper.py:737)
2025-06-09 22:22:02,811 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.985, Qty=0.02, PnL%=-1.59% (websocket_helper.py:703)
2025-06-09 22:22:02,811 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.59% (websocket_helper.py:709)
2025-06-09 22:22:02,895 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:22:02,908 - webhook_logger - WARNING - ‚ö†Ô∏è monitor_untracked_assets timed out ‚Äî skipping. (websocket_helper.py:643)
2025-06-09 22:22:02,909 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:22:02,909 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 244.80s (listener.py:393)
2025-06-09 22:22:02,909 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:22:03,647 - webhook_logger - INFO - ‚ùé 3c5134a0-a56c-4010-a00f-d1e165273836 CANCEL_QUEUED ‚Üí deleted from DB (websocket_market_manager.py:190)
2025-06-09 22:25:28,561 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:25:28,561 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:25:28,570 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:25:28,892 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:25:28,892 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:25:29,614 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:25:29,632 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:25:29,635 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:25:29,646 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:25:29,649 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:25:29,649 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:25:29,650 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:25:29,704 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 22:25:29,785 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:25:32,965 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:25:32,965 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:25:32,965 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:25:32,966 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:27:55,111 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:27:55,111 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:27:55,121 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:27:55,440 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:27:55,441 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:27:55,927 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 22:27:56,236 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:27:56,252 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:27:56,261 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:27:56,276 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:27:56,276 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:27:56,276 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:27:56,317 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:27:56,389 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:27:56,405 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:28:00,764 - webhook_logger - INFO - üì∏ Received snapshot with open orders (websocket_market_manager.py:137)
2025-06-09 22:28:00,764 - webhook_logger - INFO - üì• Snapshot order tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:28:00,765 - webhook_logger - INFO - üì• Snapshot order tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:28:00,765 - webhook_logger - INFO - üì• Snapshot order tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:154)
2025-06-09 22:29:24,320 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:29:24,321 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:29:24,322 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:29:24,323 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:29:24,323 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:29:24,324 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:29:24,332 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:29:24,332 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:29:24,333 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:29:24,333 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:29:24,350 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:29:24,599 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:29:27,664 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 92.55s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:29:27,664 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:29:27,664 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:29:27,665 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:29:27,666 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:29:27,668 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:29:27,669 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:29:27,958 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:29:27,960 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('168.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36396')}} (websocket_helper.py:737)
2025-06-09 22:29:27,960 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9875, Qty=0.02, PnL%=-1.34% (websocket_helper.py:703)
2025-06-09 22:29:27,960 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.34% (websocket_helper.py:709)
2025-06-09 22:29:28,216 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:29:28,218 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('168.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('560863')}} (websocket_helper.py:776)
2025-06-09 22:29:28,219 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2669.64, Qty=0.06703810, PnL%=48.98% (websocket_helper.py:703)
2025-06-09 22:29:28,219 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0278, Qty=0.2, PnL%=0.36% (websocket_helper.py:703)
2025-06-09 22:29:28,219 - webhook_logger - INFO - üõë SL trigger for DNT-USD: 0.36% (websocket_helper.py:709)
2025-06-09 22:29:28,492 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:29:28,494 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('168.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23168')}} (websocket_helper.py:776)
2025-06-09 22:29:28,494 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109421.0, Qty=0.00257846, PnL%=15.10% (websocket_helper.py:703)
2025-06-09 22:29:28,494 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:29:28,495 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:29:28,495 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.83s (listener.py:393)
2025-06-09 22:29:28,496 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:29:32,689 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.19s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:29:32,690 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:29:32,690 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:29:32,690 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:29:32,691 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:29:32,693 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:29:32,693 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:29:32,966 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:29:32,968 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('168.00'), 'usd_balance': Decimal('168.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36396')}} (websocket_helper.py:737)
2025-06-09 22:29:32,968 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9875, Qty=0.02, PnL%=-1.34% (websocket_helper.py:703)
2025-06-09 22:29:32,968 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.34% (websocket_helper.py:709)
2025-06-09 22:29:33,213 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:29:33,214 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('168.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('560863')}} (websocket_helper.py:776)
2025-06-09 22:29:33,215 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2669.24, Qty=0.06703810, PnL%=48.95% (websocket_helper.py:703)
2025-06-09 22:29:33,215 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 22:29:33,215 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 22:29:33,505 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:29:33,507 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('168.0000'), 'usd_balance': Decimal('168.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23085')}} (websocket_helper.py:776)
2025-06-09 22:29:33,507 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109456.02, Qty=0.00257846, PnL%=15.14% (websocket_helper.py:703)
2025-06-09 22:29:33,507 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:29:33,511 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:29:33,511 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.82s (listener.py:393)
2025-06-09 22:29:33,511 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:29:38,748 - webhook_logger - INFO - üü° Adjusted BUY limit price for POND-USD: 0.00949 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:29:42,545 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: POND-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.00947'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:46:22,469 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:46:22,469 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:46:22,479 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:46:22,775 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:46:22,776 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:46:23,296 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:46:23,477 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:46:23,585 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:46:23,603 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:46:23,607 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:46:23,634 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:46:23,635 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:46:23,635 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:46:23,771 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:46:33,241 - webhook_logger - ERROR - ‚ùå Error processing user WebSocket message: sequence item 0: expected str instance, AttributeError found (websocket_helper.py:236)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 131, in process_user_channel
    order_tracker = await self.shared_data_manager.get_order_tracker()
AttributeError: 'SharedDataManager' object has no attribute 'get_order_tracker'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 222, in on_user_message
    await self.market_ws_manager.process_user_channel(data)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_market_manager.py", line 241, in process_user_channel
    self.logger.debug(f"üì¶ Final tracker updated ‚Üí {len(order_tracker)} orders")
TypeError: sequence item 0: expected str instance, AttributeError found
2025-06-09 22:46:33,247 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:46:36,208 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 13.73s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:46:36,208 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:46:36,209 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:46:36,209 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:46:36,211 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:46:36,212 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:46:36,213 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:46:36,214 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:46:36,214 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:46:36,215 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:46:36,217 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:46:36,219 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.21, Qty=0.002, PnL%=3.42% (websocket_helper.py:703)
2025-06-09 22:46:36,220 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 3.42% (websocket_helper.py:706)
2025-06-09 22:46:36,269 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:46:36,458 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:46:36,514 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:46:36,518 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.21'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('43.105'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('68.00'), 'usd_balance': Decimal('118.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35192')}} (websocket_helper.py:737)
2025-06-09 22:46:36,519 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.988, Qty=0.02, PnL%=-1.29% (websocket_helper.py:703)
2025-06-09 22:46:36,519 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.29% (websocket_helper.py:709)
2025-06-09 22:46:36,794 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:46:36,796 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('68.0000'), 'usd_balance': Decimal('118.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('561190')}} (websocket_helper.py:776)
2025-06-09 22:46:36,796 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2679.8, Qty=0.06703810, PnL%=49.54% (websocket_helper.py:703)
2025-06-09 22:46:36,796 - webhook_logger - INFO - üîé AIOZ-USD: Entry=0.3987, Now=0.4045, Qty=125.0, PnL%=1.45% (websocket_helper.py:703)
2025-06-09 22:46:36,797 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 22:46:36,797 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 22:46:37,077 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:46:37,079 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('68.0000'), 'usd_balance': Decimal('118.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23354')}} (websocket_helper.py:776)
2025-06-09 22:46:37,079 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109616.77, Qty=0.00257846, PnL%=15.31% (websocket_helper.py:703)
2025-06-09 22:46:37,080 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 22:46:37,080 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 22:46:37,081 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 0.87s (listener.py:393)
2025-06-09 22:46:37,081 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 22:46:43,636 - webhook_logger - INFO - üü° Adjusted BUY limit price for OMNI-USD: 2.196 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:46:46,776 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: OMNI-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:2.190'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:53:26,870 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:53:26,871 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:53:26,881 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:53:27,176 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:53:27,176 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:53:27,726 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:53:27,851 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:53:27,868 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:53:27,882 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:53:27,885 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:53:28,000 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:53:28,001 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:53:28,001 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:53:28,030 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:53:44,464 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:53:44,464 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:53:44,465 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:53:44,465 - webhook_logger - INFO - üì• Snapshot tracked: efd0f700-39db-43b8-88ed-8e79f7090b99 | POND-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:54:02,249 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:54:02,279 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:54:02,280 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:54:02,281 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:54:02,282 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:54:02,282 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:54:02,284 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:54:02,292 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:54:02,541 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:54:05,715 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 38.84s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:54:05,715 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:54:05,715 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:54:05,716 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:54:05,717 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:54:05,718 - webhook_logger - INFO - üîé OMNI-USD: Entry=2.195, Now=2.196, Qty=22.80, PnL%=0.05% (websocket_helper.py:703)
2025-06-09 22:54:05,718 - webhook_logger - INFO - üõë SL trigger for OMNI-USD: 0.05% (websocket_helper.py:709)
2025-06-09 22:54:10,401 - webhook_logger - INFO - üü° Adjusted SELL limit price for OMNI-USD: 2.191 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:54:13,935 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: OMNI-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:54:13,938 - webhook_logger - ERROR - ‚ùå SL order for OMNI-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'OMNI-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'OMNI', 'quote_currency': 'USD', 'usd_balance': Decimal('73.000'), 'base_decimal': 2, 'quote_decimal': 3, 'quote_increment': Decimal('0.001'), 'highest_bid': Decimal('2.188000000000000166977542903623543679714202880859375'), 'lowest_ask': Decimal('2.19399999999999995026200849679298698902130126953125'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00600000000000000012490009027033011079765856266021728515625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('22.81'), 'total_balance_crypto': Decimal('22.81'), 'available_to_trade_crypto': Decimal('22.81'), 'usd_avail_balance': Decimal('23.000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('22.81'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('2.190'), 'adjusted_size': Decimal('22.79'), 'stop_loss_price': Decimal('2.168'), 'take_profit_price': Decimal('2.250'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 22:54:13,938 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 22:54:13,939 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 22:55:25,449 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:55:25,449 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:55:25,460 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:55:25,772 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:55:25,773 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:55:26,505 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:55:26,521 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:55:26,527 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:55:26,662 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:55:26,667 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:55:26,667 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:55:26,668 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:55:26,676 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 22:55:47,771 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:55:47,771 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:55:47,772 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:55:47,772 - webhook_logger - INFO - üì• Snapshot tracked: efd0f700-39db-43b8-88ed-8e79f7090b99 | POND-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 22:55:54,728 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:55:54,758 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:55:54,759 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:55:54,760 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:55:54,761 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 22:55:54,761 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 22:55:54,762 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 22:55:54,770 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 22:55:54,814 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:55:58,025 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 32.57s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 22:55:58,025 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 22:55:58,025 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 22:55:58,026 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 22:55:58,027 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 22:55:58,030 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 22:55:58,030 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 22:55:58,087 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 22:55:58,325 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:55:58,329 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('73.00'), 'usd_balance': Decimal('123.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36696')}} (websocket_helper.py:737)
2025-06-09 22:55:58,329 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.986, Qty=0.02, PnL%=-1.49% (websocket_helper.py:703)
2025-06-09 22:55:58,329 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.49% (websocket_helper.py:709)
2025-06-09 22:55:58,595 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 22:55:58,599 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('73.0000'), 'usd_balance': Decimal('123.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('559936')}} (websocket_helper.py:776)
2025-06-09 22:55:58,600 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2676.611, Qty=0.06703810, PnL%=49.37% (websocket_helper.py:703)
2025-06-09 22:55:58,601 - webhook_logger - INFO - üîé AIOZ-USD: Entry=0.3987, Now=0.3985, Qty=125.0, PnL%=-0.05% (websocket_helper.py:703)
2025-06-09 22:55:58,602 - webhook_logger - INFO - üõë SL trigger for AIOZ-USD: -0.05% (websocket_helper.py:709)
2025-06-09 22:56:03,349 - webhook_logger - INFO - üü° Adjusted SELL limit price for AIOZ-USD: 0.3991 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 22:56:07,180 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: AIOZ-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 22:56:07,182 - webhook_logger - ERROR - ‚ùå SL order for AIOZ-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'AIOZ-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'AIOZ', 'quote_currency': 'USD', 'usd_balance': Decimal('123.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.398699999999999998845368054389837197959423065185546875'), 'lowest_ask': Decimal('0.3991000000000000103028696685214526951313018798828125'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.0004000000000000000191686944095437183932517655193805694580078125'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('125.0'), 'total_balance_crypto': Decimal('125.0'), 'available_to_trade_crypto': Decimal('125.0'), 'usd_avail_balance': Decimal('73.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('125.0'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.3989'), 'adjusted_size': Decimal('124.8'), 'stop_loss_price': Decimal('0.3949'), 'take_profit_price': Decimal('0.4098'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 22:56:07,183 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 22:56:07,184 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 22:58:24,789 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:58:24,789 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:58:24,803 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 22:58:25,121 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 22:58:25,121 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 22:58:25,729 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:58:25,748 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:58:25,759 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:58:25,801 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 22:58:25,854 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 22:58:25,855 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 22:58:25,855 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 22:58:25,861 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 22:58:25,893 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 22:58:25,910 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:01:49,835 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:01:49,835 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:02:02,115 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:02:02,121 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 23:02:02,124 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 23:02:02,474 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:02:02,475 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:02:03,131 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:02:03,134 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:02:03,151 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:02:03,475 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:03:47,605 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:03:47,605 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:03:47,606 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:04:08,941 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:04:12,127 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:04:12,127 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:04:12,129 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:04:12,134 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:04:12,134 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:04:12,135 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:04:12,135 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:04:13,489 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 23:04:51,262 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 23:04:51,271 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 23:04:51,272 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 23:04:51,346 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 23:04:51,410 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:04:54,689 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 172.57s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:04:54,689 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:04:54,690 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:04:54,690 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:04:54,691 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:04:54,693 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:04:54,693 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:04:54,969 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:04:54,972 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('122.00'), 'usd_balance': Decimal('122.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36697')}} (websocket_helper.py:737)
2025-06-09 23:04:54,972 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=5279, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:04:54,972 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:05:00,596 - webhook_logger - INFO - üü° Adjusted SELL limit price for POND-USD: 0.00948 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:05:03,977 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: POND-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:05:03,980 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'POND-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'POND', 'quote_currency': 'USD', 'usd_balance': Decimal('122.00000'), 'base_decimal': 0, 'quote_decimal': 5, 'quote_increment': Decimal('0.00001'), 'highest_bid': Decimal('0.009469999999999999251709681402644491754472255706787109375'), 'lowest_ask': Decimal('0.00949999999999999976407760726715423515997827053070068359375'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00003000000000000000076002572291233860823922441340982913970947265625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('5279'), 'total_balance_crypto': Decimal('5279'), 'available_to_trade_crypto': Decimal('5279'), 'usd_avail_balance': Decimal('122.00000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('5279'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.00949'), 'adjusted_size': Decimal('5277'), 'stop_loss_price': Decimal('0.00939'), 'take_profit_price': Decimal('0.00975'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 23:05:03,980 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.986, Qty=0.02, PnL%=-1.49% (websocket_helper.py:703)
2025-06-09 23:05:03,980 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.49% (websocket_helper.py:709)
2025-06-09 23:05:04,054 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:05:04,054 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:05:04,054 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:05:04,057 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:05:04,057 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:05:04,057 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:05:04,060 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:05:04,234 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:04,237 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('122.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:05:04,238 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2675.65, Qty=0.06703810, PnL%=49.31% (websocket_helper.py:703)
2025-06-09 23:05:04,238 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 23:05:04,238 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 23:05:04,530 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:04,532 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('122.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23211')}} (websocket_helper.py:776)
2025-06-09 23:05:04,533 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109483.48, Qty=0.00257846, PnL%=15.17% (websocket_helper.py:703)
2025-06-09 23:05:04,533 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:05:04,534 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:05:04,534 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 9.84s (listener.py:393)
2025-06-09 23:05:04,534 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:05:08,551 - webhook_logger - INFO - üü° Adjusted BUY limit price for IDEX-USD: 0.0238 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:05:09,082 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: IDEX-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0237'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:05:09,161 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:05:09,162 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:05:09,163 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:05:13,103 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 8.57s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:05:13,103 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:05:13,103 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:05:13,104 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:05:13,106 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:05:13,108 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:05:13,108 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:05:13,369 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:13,372 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('122.00'), 'usd_balance': Decimal('122.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35077')}} (websocket_helper.py:737)
2025-06-09 23:05:13,372 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:05:13,373 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:05:13,642 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:13,644 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('122.00000'), 'usd_balance': Decimal('122.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('50.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29145')}} (websocket_helper.py:776)
2025-06-09 23:05:13,644 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:05:13,644 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:05:13,918 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:13,920 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('122.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:05:13,920 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2673.2, Qty=0.06703810, PnL%=49.17% (websocket_helper.py:703)
2025-06-09 23:05:13,920 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 23:05:13,920 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 23:05:14,211 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:14,213 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('122.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23202')}} (websocket_helper.py:776)
2025-06-09 23:05:14,213 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109499.44, Qty=0.00257846, PnL%=15.18% (websocket_helper.py:703)
2025-06-09 23:05:14,213 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:05:14,217 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:05:14,218 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.11s (listener.py:393)
2025-06-09 23:05:14,218 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:05:20,271 - webhook_logger - INFO - üü° Adjusted BUY limit price for C98-USD: 0.0521 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:05:20,725 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: C98-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.0520'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:05:28,530 - webhook_logger - INFO - üü° Adjusted BUY limit price for INV-USD: 29.72 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:05:28,995 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 23:05:28,996 - webhook_logger - INFO - üü° Adjusted BUY limit price for INV-USD: 29.70 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 23:05:29,447 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 23:05:29,447 - webhook_logger - INFO - üü° Adjusted BUY limit price for INV-USD: 29.69 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 23:05:29,901 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 23:05:29,902 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: INV-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:29.34'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:05:35,775 - webhook_logger - INFO - üü° Adjusted BUY limit price for STRK-USD: 0.137 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:05:36,259 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 1: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 23:05:36,260 - webhook_logger - INFO - üü° Adjusted BUY limit price for STRK-USD: 0.137 (Attempt 2) (webhook_order_types.py:353)
2025-06-09 23:05:36,889 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 2: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 23:05:36,889 - webhook_logger - INFO - üü° Adjusted BUY limit price for STRK-USD: 0.137 (Attempt 3) (webhook_order_types.py:353)
2025-06-09 23:05:37,370 - webhook_logger - WARNING - üîÅ Post-only rejection on attempt 3: priced below the lowest sell price (webhook_order_types.py:383)
2025-06-09 23:05:37,371 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: STRK-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.137'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:05:41,992 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.58s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:05:41,992 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:05:41,993 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:05:41,993 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:05:41,994 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:05:41,996 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:05:41,996 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:05:42,278 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:42,284 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('122.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35481')}} (websocket_helper.py:737)
2025-06-09 23:05:42,284 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:05:42,284 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:05:42,580 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:42,584 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('22.00000'), 'usd_balance': Decimal('122.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('22.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29078')}} (websocket_helper.py:776)
2025-06-09 23:05:42,585 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:05:42,585 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:05:42,851 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:42,856 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('122.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:05:42,856 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2673.88, Qty=0.06703810, PnL%=49.21% (websocket_helper.py:703)
2025-06-09 23:05:42,858 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 23:05:42,859 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 23:05:43,164 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:05:43,166 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('122.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23211')}} (websocket_helper.py:776)
2025-06-09 23:05:43,166 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109488.57, Qty=0.00257846, PnL%=15.17% (websocket_helper.py:703)
2025-06-09 23:05:43,166 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:05:43,172 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:05:43,172 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.18s (listener.py:393)
2025-06-09 23:05:43,172 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:05:53,528 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:05:55,223 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:05:56,252 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:05:56,254 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:05:56,256 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:06:07,063 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:06:11,903 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.49s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:06:11,903 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:06:11,904 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:06:11,904 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:06:11,905 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:06:11,907 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:06:11,907 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:06:11,969 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:06:12,190 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:12,192 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('72.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35346')}} (websocket_helper.py:737)
2025-06-09 23:06:12,192 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:06:12,192 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:06:12,471 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:12,473 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('22.00000'), 'usd_balance': Decimal('72.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('22.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29078')}} (websocket_helper.py:776)
2025-06-09 23:06:12,474 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:06:12,474 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:06:12,730 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:12,732 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('72.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:06:12,732 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2673.18, Qty=0.06703810, PnL%=49.17% (websocket_helper.py:703)
2025-06-09 23:06:12,732 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 23:06:12,732 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 23:06:12,971 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:06:12,971 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:06:12,973 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:06:13,049 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:13,051 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('72.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23211')}} (websocket_helper.py:776)
2025-06-09 23:06:13,052 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109481.88, Qty=0.00257846, PnL%=15.16% (websocket_helper.py:703)
2025-06-09 23:06:13,052 - webhook_logger - INFO - üîé IDEX-USD: Entry=0.0230, Now=0.0238, Qty=2109.9, PnL%=3.48% (websocket_helper.py:703)
2025-06-09 23:06:13,052 - webhook_logger - INFO - üí∞ TP trigger for IDEX-USD: 3.48% (websocket_helper.py:706)
2025-06-09 23:06:14,136 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:06:14,159 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:06:17,714 - webhook_logger - INFO - üü° Adjusted SELL limit price for IDEX-USD: 0.0238 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:06:18,167 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: IDEX-USD:{'trigger': 'TP', 'trigger_note': 'price=0.0238'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:06:18,170 - webhook_logger - ERROR - ‚ùå TP order for IDEX-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'IDEX-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'IDEX', 'quote_currency': 'USD', 'usd_balance': Decimal('72.0000'), 'base_decimal': 1, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.023699999999999998845368054389837197959423065185546875'), 'lowest_ask': Decimal('0.0239000000000000011046719095020307577215135097503662109375'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00020000000000000000958434720477185919662588275969028472900390625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=0.0238'}, 'base_avail_balance': Decimal('2109.9'), 'total_balance_crypto': Decimal('2109.9'), 'available_to_trade_crypto': Decimal('2109.9'), 'usd_avail_balance': Decimal('22.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('2109.9'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.0239'), 'adjusted_size': Decimal('2109.7'), 'stop_loss_price': Decimal('0.0236'), 'take_profit_price': Decimal('0.0245'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:737)
2025-06-09 23:06:18,170 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:06:18,177 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:06:18,177 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.27s (listener.py:393)
2025-06-09 23:06:18,177 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:06:18,185 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:06:18,186 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:06:18,187 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:06:18,188 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:06:18,189 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:06:18,190 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:06:41,919 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.50s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:06:41,920 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:06:41,920 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:06:41,920 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:06:41,922 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:06:41,924 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:06:41,924 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:06:42,196 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:42,200 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('48.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35212')}} (websocket_helper.py:737)
2025-06-09 23:06:42,200 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:06:42,200 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:06:42,485 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:42,487 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('22.00000'), 'usd_balance': Decimal('48.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('22.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29073')}} (websocket_helper.py:776)
2025-06-09 23:06:42,487 - webhook_logger - INFO - üîé C98-USD: Entry=0.0520, Now=0.0521, Qty=472.55, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:06:42,488 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:06:46,951 - webhook_logger - INFO - üü° Adjusted SELL limit price for C98-USD: 0.0522 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:06:47,403 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: C98-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:06:47,405 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'C98-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'C98', 'quote_currency': 'USD', 'usd_balance': Decimal('48.0000'), 'base_decimal': 2, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.052100000000000000477395900588817312382161617279052734375'), 'lowest_ask': Decimal('0.052200000000000003341771304121721186675131320953369140625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.000100000000000000004792173602385929598312941379845142364501953125'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('472.55'), 'total_balance_crypto': Decimal('472.55'), 'available_to_trade_crypto': Decimal('472.55'), 'usd_avail_balance': Decimal('22.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('472.55'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.0523'), 'adjusted_size': Decimal('472.53'), 'stop_loss_price': Decimal('0.0517'), 'take_profit_price': Decimal('0.0537'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 23:06:47,405 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:06:47,405 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:06:47,655 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:47,657 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:06:47,657 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2670.25, Qty=0.06703810, PnL%=49.01% (websocket_helper.py:703)
2025-06-09 23:06:47,658 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0277, Qty=0.2, PnL%=-0.00% (websocket_helper.py:703)
2025-06-09 23:06:47,658 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.00% (websocket_helper.py:709)
2025-06-09 23:06:47,951 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:47,953 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23211')}} (websocket_helper.py:776)
2025-06-09 23:06:47,953 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109425.15, Qty=0.00257846, PnL%=15.11% (websocket_helper.py:703)
2025-06-09 23:06:47,954 - webhook_logger - INFO - üîé IDEX-USD: Entry=0.0237, Now=0.0238, Qty=0.2, PnL%=0.42% (websocket_helper.py:703)
2025-06-09 23:06:47,954 - webhook_logger - INFO - üõë SL trigger for IDEX-USD: 0.42% (websocket_helper.py:709)
2025-06-09 23:06:48,217 - webhook_logger - INFO - ‚ùå Order validation failed for IDEX-USD: ‚ö†Ô∏è IDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:06:48,219 - webhook_logger - ERROR - ‚ùå SL order for IDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell IDEX.', 'code': '414', 'message': 'Order validation failed for IDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'IDEX', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'IDEX-USD', 'side': 'sell', 'base_balance': Decimal('2109.9'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è IDEX-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('91370')}} (websocket_helper.py:776)
2025-06-09 23:06:48,219 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:06:48,220 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:06:48,220 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.30s (listener.py:393)
2025-06-09 23:06:48,220 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:07:06,811 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:07:12,051 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.63s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:07:12,054 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:07:12,054 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:07:12,054 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:07:12,057 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:07:12,059 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:07:12,060 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:07:12,143 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:07:12,351 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:12,356 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('48.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35481')}} (websocket_helper.py:737)
2025-06-09 23:07:12,356 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:07:12,356 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:07:12,673 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:12,675 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('22.00000'), 'usd_balance': Decimal('48.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('22.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29078')}} (websocket_helper.py:776)
2025-06-09 23:07:12,675 - webhook_logger - INFO - üîé C98-USD: Entry=0.0520, Now=0.0521, Qty=0.02, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:07:12,675 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:07:12,970 - webhook_logger - INFO - ‚ùå Order validation failed for C98-USD: ‚ö†Ô∏è C98-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:12,973 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'is_valid': False, 'error': 'Insufficient balance to sell C98.', 'code': '414', 'message': 'Order validation failed for C98-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'C98', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'C98-USD', 'side': 'sell', 'base_balance': Decimal('472.55'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è C98-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('53047')}} (websocket_helper.py:776)
2025-06-09 23:07:12,973 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:07:12,973 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:07:13,145 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:07:13,145 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:07:13,147 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:07:13,272 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:13,275 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:07:13,276 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2670.28, Qty=0.06703810, PnL%=49.01% (websocket_helper.py:703)
2025-06-09 23:07:13,276 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:07:13,276 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:07:13,554 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:13,557 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23128')}} (websocket_helper.py:776)
2025-06-09 23:07:13,557 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109425.21, Qty=0.00257846, PnL%=15.11% (websocket_helper.py:703)
2025-06-09 23:07:13,557 - webhook_logger - INFO - üîé IDEX-USD: Entry=0.0237, Now=0.0238, Qty=0.2, PnL%=0.42% (websocket_helper.py:703)
2025-06-09 23:07:13,557 - webhook_logger - INFO - üõë SL trigger for IDEX-USD: 0.42% (websocket_helper.py:709)
2025-06-09 23:07:13,818 - webhook_logger - INFO - ‚ùå Order validation failed for IDEX-USD: ‚ö†Ô∏è IDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:13,822 - webhook_logger - ERROR - ‚ùå SL order for IDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell IDEX.', 'code': '414', 'message': 'Order validation failed for IDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'IDEX', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'IDEX-USD', 'side': 'sell', 'base_balance': Decimal('2109.9'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è IDEX-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('91370')}} (websocket_helper.py:776)
2025-06-09 23:07:13,822 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:07:13,824 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:07:13,824 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.77s (listener.py:393)
2025-06-09 23:07:13,824 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:07:15,344 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:07:16,967 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:07:17,465 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:07:17,974 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:07:17,974 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:07:17,975 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:07:19,075 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:07:20,077 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:07:20,077 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:07:20,078 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:07:41,639 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.22s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:07:41,640 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:07:41,640 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:07:41,640 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:07:41,642 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:07:41,643 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:07:41,643 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:07:41,913 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:41,916 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('48.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35077')}} (websocket_helper.py:737)
2025-06-09 23:07:41,917 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:07:41,917 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:07:42,193 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:42,195 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('22.00000'), 'usd_balance': Decimal('48.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('22.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29073')}} (websocket_helper.py:776)
2025-06-09 23:07:42,195 - webhook_logger - INFO - üîé C98-USD: Entry=0.0520, Now=0.0521, Qty=0.02, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:07:42,195 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:07:42,562 - webhook_logger - INFO - ‚ùå Order validation failed for C98-USD: ‚ö†Ô∏è C98-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:42,565 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'is_valid': False, 'error': 'Insufficient balance to sell C98.', 'code': '414', 'message': 'Order validation failed for C98-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'C98', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'C98-USD', 'side': 'sell', 'base_balance': Decimal('472.55'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è C98-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('52615')}} (websocket_helper.py:776)
2025-06-09 23:07:42,565 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:07:42,565 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:07:42,810 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:42,811 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:07:42,812 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2670.47, Qty=0.06703810, PnL%=49.02% (websocket_helper.py:703)
2025-06-09 23:07:42,812 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:07:42,812 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:07:43,091 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:43,093 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23119')}} (websocket_helper.py:776)
2025-06-09 23:07:43,093 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109421.02, Qty=0.00257846, PnL%=15.10% (websocket_helper.py:703)
2025-06-09 23:07:43,093 - webhook_logger - INFO - üîé IDEX-USD: Entry=0.0237, Now=0.0238, Qty=0.2, PnL%=0.42% (websocket_helper.py:703)
2025-06-09 23:07:43,093 - webhook_logger - INFO - üõë SL trigger for IDEX-USD: 0.42% (websocket_helper.py:709)
2025-06-09 23:07:43,351 - webhook_logger - INFO - ‚ùå Order validation failed for IDEX-USD: ‚ö†Ô∏è IDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:07:43,353 - webhook_logger - ERROR - ‚ùå SL order for IDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell IDEX.', 'code': '414', 'message': 'Order validation failed for IDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'IDEX', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'IDEX-USD', 'side': 'sell', 'base_balance': Decimal('2109.9'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('48.0000'), 'condition': '‚ö†Ô∏è IDEX-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('91363')}} (websocket_helper.py:776)
2025-06-09 23:07:43,353 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:07:43,360 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:07:43,361 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.72s (listener.py:393)
2025-06-09 23:07:43,361 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:08:11,614 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.19s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:08:11,615 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:08:11,615 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:08:11,615 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:08:11,617 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:08:11,619 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:08:11,619 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:08:11,883 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:11,885 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('22.00'), 'usd_balance': Decimal('41.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('22.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('35077')}} (websocket_helper.py:737)
2025-06-09 23:08:11,885 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:08:11,885 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:08:12,165 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:12,167 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('22.00000'), 'usd_balance': Decimal('41.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('22.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29073')}} (websocket_helper.py:776)
2025-06-09 23:08:12,167 - webhook_logger - INFO - üîé C98-USD: Entry=0.0520, Now=0.0521, Qty=121.73, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:08:12,168 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:08:16,799 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'success': False, 'message': '‚ö†Ô∏è Not enough C98 for SELL. Trying to sell: 594.24, Available: 121.73', 'code': '500', 'details': {'trading_pair': 'C98-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'C98', 'quote_currency': 'USD', 'usd_balance': Decimal('41.0000'), 'base_decimal': 2, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.052100000000000000477395900588817312382161617279052734375'), 'lowest_ask': Decimal('0.052200000000000003341771304121721186675131320953369140625'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.000100000000000000004792173602385929598312941379845142364501953125'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('594.26'), 'total_balance_crypto': Decimal('121.73'), 'available_to_trade_crypto': Decimal('121.73'), 'usd_avail_balance': Decimal('22.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('594.26'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.0523'), 'adjusted_size': Decimal('594.24'), 'stop_loss_price': Decimal('0.0517'), 'take_profit_price': Decimal('0.0537'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 23:08:16,799 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.9901, Qty=0.02, PnL%=-1.08% (websocket_helper.py:703)
2025-06-09 23:08:16,799 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.08% (websocket_helper.py:709)
2025-06-09 23:08:17,056 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:17,058 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('41.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562439')}} (websocket_helper.py:776)
2025-06-09 23:08:17,059 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2671.78, Qty=0.06703810, PnL%=49.10% (websocket_helper.py:703)
2025-06-09 23:08:17,059 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:08:17,059 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:08:17,358 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:08:17,386 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:17,388 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('41.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23119')}} (websocket_helper.py:776)
2025-06-09 23:08:17,388 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109421.03, Qty=0.00257846, PnL%=15.10% (websocket_helper.py:703)
2025-06-09 23:08:17,388 - webhook_logger - INFO - üîé IDEX-USD: Entry=0.0237, Now=0.0238, Qty=0.2, PnL%=0.42% (websocket_helper.py:703)
2025-06-09 23:08:17,389 - webhook_logger - INFO - üõë SL trigger for IDEX-USD: 0.42% (websocket_helper.py:709)
2025-06-09 23:08:17,651 - webhook_logger - INFO - ‚ùå Order validation failed for IDEX-USD: ‚ö†Ô∏è IDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:17,653 - webhook_logger - ERROR - ‚ùå SL order for IDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell IDEX.', 'code': '414', 'message': 'Order validation failed for IDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'IDEX', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'IDEX-USD', 'side': 'sell', 'base_balance': Decimal('2109.9'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('22.0000'), 'usd_balance': Decimal('41.0000'), 'condition': '‚ö†Ô∏è IDEX-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('22.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('91363')}} (websocket_helper.py:776)
2025-06-09 23:08:17,653 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:08:17,656 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:08:17,656 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 6.04s (listener.py:393)
2025-06-09 23:08:17,656 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:08:19,028 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:08:19,706 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:08:20,031 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:08:20,031 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:08:20,033 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:08:21,274 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:08:21,850 - webhook_logger - WARNING - WebSocket closed unexpectedly: sent 1011 (internal error) keepalive ping timeout; no close frame received. Reconnecting... (listener.py:127)
2025-06-09 23:08:22,276 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:08:22,276 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:08:22,278 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:08:23,426 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:08:24,427 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:08:24,432 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:08:24,434 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:08:42,121 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.65s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:08:42,122 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:08:42,122 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:08:42,123 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:08:42,124 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:08:42,127 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.22, Qty=0.002, PnL%=4.27% (websocket_helper.py:703)
2025-06-09 23:08:42,128 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 4.27% (websocket_helper.py:706)
2025-06-09 23:08:42,409 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:42,411 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.22'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('38.00'), 'usd_balance': Decimal('57.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('38.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36696')}} (websocket_helper.py:737)
2025-06-09 23:08:42,412 - webhook_logger - INFO - üîé POND-USD: Entry=0.00949, Now=0.00949, Qty=2, PnL%=0.00% (websocket_helper.py:703)
2025-06-09 23:08:42,413 - webhook_logger - INFO - üõë SL trigger for POND-USD: 0.00% (websocket_helper.py:709)
2025-06-09 23:08:42,690 - webhook_logger - INFO - ‚ùå Order validation failed for POND-USD: ‚ö†Ô∏è POND-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:08:42,692 - webhook_logger - ERROR - ‚ùå SL order for POND-USD: {'is_valid': False, 'error': 'Insufficient balance to sell POND.', 'code': '414', 'message': 'Order validation failed for POND-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'POND', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'POND-USD', 'side': 'sell', 'base_balance': Decimal('5279'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('2'), 'available_to_trade_crypto': Decimal('2'), 'usd_avail_balance': Decimal('38.00000'), 'usd_balance': Decimal('57.00000'), 'condition': '‚ö†Ô∏è POND-USD has insufficient balance to sell.', 'quote_decimal': 5, 'base_decimal': 0, 'order_amount_fiat': Decimal('38.00000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('29261')}} (websocket_helper.py:776)
2025-06-09 23:08:42,692 - webhook_logger - INFO - üîé C98-USD: Entry=0.0520, Now=0.0521, Qty=121.73, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:08:42,693 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:08:42,807 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:08:42,811 - webhook_logger - WARNING - ‚ö†Ô∏è refresh_market_data was cancelled by the event loop. (listener.py:402)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 392, in refresh_market_data
    await self.websocket_helper.monitor_and_update_active_orders(new_market_data, new_order_management)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 638, in monitor_and_update_active_orders
    await asyncio.wait_for(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/tasks.py", line 432, in wait_for
    await waiter
asyncio.exceptions.CancelledError
2025-06-09 23:08:42,813 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 392, in refresh_market_data
    await self.websocket_helper.monitor_and_update_active_orders(new_market_data, new_order_management)
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 638, in monitor_and_update_active_orders
    await asyncio.wait_for(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/tasks.py", line 432, in wait_for
    await waiter
asyncio.exceptions.CancelledError
2025-06-09 23:08:55,673 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:08:55,673 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:08:55,685 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:08:56,009 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:08:56,010 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:08:56,593 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (7 open / 250 recent) (listener.py:894)
2025-06-09 23:08:56,630 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:08:56,653 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:08:56,661 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:08:56,666 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:08:56,666 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:08:56,667 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:08:56,669 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:08:56,809 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:08:56,810 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:09:04,656 - webhook_logger - INFO - üì• Snapshot tracked: 3ecf5bf0-b7df-4232-bd8e-b48236734307 | IDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:04,656 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:04,657 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:04,657 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:04,657 - webhook_logger - INFO - üì• Snapshot tracked: cabe2708-b9b3-44bf-91d5-95e0349895ca | POND-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:04,657 - webhook_logger - INFO - üì• Snapshot tracked: 1b8ce374-a86e-4a4a-bff9-9bbec85c22f6 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:04,658 - webhook_logger - INFO - üì• Snapshot tracked: dad2bb91-9567-4a0d-b28b-84c34db07802 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:09:33,407 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:09:33,407 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:09:33,421 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:09:34,182 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:09:34,183 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:09:34,731 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:09:34,772 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:09:34,790 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:09:34,800 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:09:34,807 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (7 open / 250 recent) (listener.py:894)
2025-06-09 23:09:34,857 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:09:34,858 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:09:34,858 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:09:34,948 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:15:46,887 - webhook_logger - INFO - üì• Snapshot tracked: 3ecf5bf0-b7df-4232-bd8e-b48236734307 | IDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:15:46,887 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:15:46,888 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:15:46,888 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:15:46,888 - webhook_logger - INFO - üì• Snapshot tracked: cabe2708-b9b3-44bf-91d5-95e0349895ca | POND-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:15:46,888 - webhook_logger - INFO - üì• Snapshot tracked: 1b8ce374-a86e-4a4a-bff9-9bbec85c22f6 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:15:46,888 - webhook_logger - INFO - üì• Snapshot tracked: dad2bb91-9567-4a0d-b28b-84c34db07802 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:16:12,758 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:16:12,758 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:16:12,771 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:16:13,106 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:16:13,107 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:16:13,704 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (5 open / 250 recent) (listener.py:894)
2025-06-09 23:16:13,968 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:16:13,986 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:16:14,002 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:16:14,007 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:16:14,011 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:16:14,011 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:16:14,011 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:16:14,140 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:16:50,533 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:16:55,710 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:17:05,092 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:17:05,092 - webhook_logger - INFO - üì• Snapshot tracked: cabe2708-b9b3-44bf-91d5-95e0349895ca | POND-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:17:05,093 - webhook_logger - INFO - üì• Snapshot tracked: dad2bb91-9567-4a0d-b28b-84c34db07802 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:31:41,421 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:31:41,422 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:31:41,433 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:31:41,784 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:31:41,785 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:31:42,327 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (3 open / 250 recent) (listener.py:894)
2025-06-09 23:31:42,430 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:31:42,438 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:31:42,459 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:31:42,602 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:31:42,603 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:31:42,603 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:31:42,649 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:32:03,703 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:32:03,703 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:32:03,704 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:32:17,790 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:32:17,796 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:32:17,825 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:32:17,825 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:32:17,826 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:32:17,833 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 23:32:21,045 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 39.62s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:32:21,046 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:32:21,046 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:32:21,046 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:32:21,048 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:32:21,050 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.2, Qty=0.002, PnL%=2.56% (websocket_helper.py:703)
2025-06-09 23:32:21,050 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 2.56% (websocket_helper.py:706)
2025-06-09 23:32:21,103 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:32:21,104 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:32:21,105 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:32:21,105 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 23:32:21,333 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:32:21,338 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.2'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('147.00'), 'usd_balance': Decimal('147.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36877')}} (websocket_helper.py:737)
2025-06-09 23:32:21,338 - webhook_logger - INFO - üîé C98-USD: Entry=0.0521, Now=0.0522, Qty=489.01, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:32:21,338 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:32:26,292 - webhook_logger - INFO - üü° Adjusted SELL limit price for C98-USD: 0.0522 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:32:29,727 - webhook_logger - ERROR - ‚ùå Error in place_limit_order: local variable 'response' referenced before assignment (webhook_order_types.py:402)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 109, in ccxt_api_call
    response = await func(*args, **kwargs) if asyncio.iscoroutinefunction(func) else func(*args, **kwargs)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 2984, in create_order
    response = self.v3PrivatePostBrokerageOrders(self.extend(request, params))
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/types.py", line 35, in unbound_method
    return _self.request(self.path, self.api, self.method, params, config=self.config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4491, in request
    return self.fetch2(path, api, method, params, headers, body, config)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4487, in fetch2
    raise e
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 4476, in fetch2
    return self.fetch(request['url'], request['method'], request['headers'], request['body'])
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/base/exchange.py", line 626, in fetch
    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/ccxt/coinbase.py", line 4922, in handle_errors
    raise ExchangeError(feedback)
ccxt.base.errors.ExchangeError: coinbase {"success":false, "error_response":{"error":"INVALID_LIMIT_PRICE_POST_ONLY", "message":"", "error_details":"", "preview_failure_reason":"PREVIEW_INVALID_LIMIT_PRICE_POST_ONLY"}, "order_configuration":{"limit_limit_gtc":{"base_size":"489", "limit_price":"0.0522", "post_only":true, "rfq_disabled":false, "reduce_only":false}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/webhook_order_types.py", line 358, in place_limit_order
    response = await self.ccxt_api.ccxt_api_call(
  File "/Users/Manny/Python_Projects/BotTrader/Api_manager/api_manager.py", line 183, in ccxt_api_call
    response['message'] = 'priced below the lowest sell price'
UnboundLocalError: local variable 'response' referenced before assignment
2025-06-09 23:32:29,730 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'success': False, 'message': "local variable 'response' referenced before assignment", 'code': '500', 'details': {'trading_pair': 'C98-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'C98', 'quote_currency': 'USD', 'usd_balance': Decimal('147.0000'), 'base_decimal': 2, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.052100000000000000477395900588817312382161617279052734375'), 'lowest_ask': Decimal('0.05229999999999999926725280374739668332040309906005859375'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00020000000000000000958434720477185919662588275969028472900390625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('489.02'), 'total_balance_crypto': Decimal('489.02'), 'available_to_trade_crypto': Decimal('489.02'), 'usd_avail_balance': Decimal('147.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('489.02'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.0523'), 'adjusted_size': Decimal('489.00'), 'stop_loss_price': Decimal('0.0517'), 'take_profit_price': Decimal('0.0537'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 23:32:29,730 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.99, Qty=0.02, PnL%=-1.09% (websocket_helper.py:703)
2025-06-09 23:32:29,730 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.09% (websocket_helper.py:709)
2025-06-09 23:32:30,038 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:32:30,040 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('562642')}} (websocket_helper.py:776)
2025-06-09 23:32:30,040 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2686.0, Qty=0.06703810, PnL%=49.89% (websocket_helper.py:703)
2025-06-09 23:32:30,040 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:32:30,041 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:32:30,362 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:32:30,365 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('23128')}} (websocket_helper.py:776)
2025-06-09 23:32:30,365 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109533.11, Qty=0.00257846, PnL%=15.22% (websocket_helper.py:703)
2025-06-09 23:32:30,365 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:32:30,367 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:32:30,367 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 9.32s (listener.py:393)
2025-06-09 23:32:30,367 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:32:35,582 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.21s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:32:35,583 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:32:35,583 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:32:35,583 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:32:35,588 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:32:35,590 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.2, Qty=0.002, PnL%=2.56% (websocket_helper.py:703)
2025-06-09 23:32:35,590 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 2.56% (websocket_helper.py:706)
2025-06-09 23:32:35,883 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:32:35,889 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.2'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('147.00'), 'usd_balance': Decimal('147.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('38071')}} (websocket_helper.py:737)
2025-06-09 23:32:35,889 - webhook_logger - INFO - üîé C98-USD: Entry=0.0521, Now=0.0522, Qty=489.01, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:32:35,889 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:32:40,818 - webhook_logger - INFO - üü° Adjusted SELL limit price for C98-USD: 0.0523 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:32:41,308 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: C98-USD:{'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:32:41,312 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'success': False, 'message': 'unknown', 'code': '500', 'details': {'trading_pair': 'C98-USD', 'time_order_placed': None, 'type': 'limit', 'order_id': '', 'side': 'sell', 'filled_price': Decimal('0'), 'base_currency': 'C98', 'quote_currency': 'USD', 'usd_balance': Decimal('147.0000'), 'base_decimal': 2, 'quote_decimal': 4, 'quote_increment': Decimal('0.0001'), 'highest_bid': Decimal('0.052200000000000003341771304121721186675131320953369140625'), 'lowest_ask': Decimal('0.052400000000000002131628207280300557613372802734375'), 'maker': Decimal('0.0015'), 'taker': Decimal('0.0025'), 'spread': Decimal('0.00020000000000000000958434720477185919662588275969028472900390625'), 'open_orders': Empty DataFrame
Columns: []
Index: [], 'status': 'VALID', 'source': 'websocket', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'base_avail_balance': Decimal('489.02'), 'total_balance_crypto': Decimal('489.02'), 'available_to_trade_crypto': Decimal('489.02'), 'usd_avail_balance': Decimal('147.0000'), 'order_amount_fiat': 0, 'order_amount_crypto': Decimal('489.02'), 'price': Decimal('0'), 'cost_basis': Decimal('0'), 'limit_price': Decimal('0'), 'average_price': None, 'adjusted_price': Decimal('0.0524'), 'adjusted_size': Decimal('489.00'), 'stop_loss_price': Decimal('0.0518'), 'take_profit_price': Decimal('0.0538'), 'volume_24h': None}, 'error_response': {}} (websocket_helper.py:776)
2025-06-09 23:32:41,312 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.99, Qty=0.02, PnL%=-1.09% (websocket_helper.py:703)
2025-06-09 23:32:41,312 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.09% (websocket_helper.py:709)
2025-06-09 23:35:14,972 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:35:14,972 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:35:14,984 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:35:15,363 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:35:15,364 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:35:15,911 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:35:16,010 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:35:16,053 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:35:16,071 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:35:16,237 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:35:16,237 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:35:16,237 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:35:16,243 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:35:16,246 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:35:16,247 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:35:20,605 - webhook_logger - INFO - üì• Snapshot tracked: bd85cdce-a05c-4f0d-97ab-02b750d2ca28 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:35:20,605 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:35:20,606 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:35:20,606 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:37:19,883 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:37:19,883 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:37:19,895 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:37:20,226 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:37:20,227 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:37:20,770 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:37:20,923 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:37:20,942 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:37:20,946 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:37:21,054 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:37:21,100 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:37:26,097 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:37:26,098 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:37:26,098 - webhook_logger - INFO - üì• Snapshot tracked: bd85cdce-a05c-4f0d-97ab-02b750d2ca28 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:37:26,099 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:38:36,686 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:38:36,686 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:38:36,697 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:38:37,027 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:38:37,027 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:38:37,622 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:38:37,675 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:38:37,741 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:38:37,761 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:38:37,767 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:38:37,768 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:38:37,768 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:38:37,771 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:38:37,913 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:38:37,913 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:39:08,554 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:39:08,555 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:39:08,555 - webhook_logger - INFO - üì• Snapshot tracked: bd85cdce-a05c-4f0d-97ab-02b750d2ca28 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:39:08,555 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:42:03,666 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:42:03,666 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:42:03,680 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:42:04,050 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:42:04,051 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:42:04,678 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:42:04,695 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:42:04,713 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:42:04,714 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:42:04,760 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:42:04,762 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:42:04,762 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:42:04,762 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:42:04,888 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:42:24,473 - webhook_logger - INFO - üì• Snapshot tracked: bd85cdce-a05c-4f0d-97ab-02b750d2ca28 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:42:24,475 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:42:24,475 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:42:24,477 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:43:37,299 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:43:37,300 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:43:37,314 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:43:37,679 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:43:37,680 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:43:38,255 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:43:38,373 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:43:38,393 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:43:38,400 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:43:38,519 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:43:38,519 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:43:38,520 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:43:38,542 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:43:38,555 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:44:57,220 - webhook_logger - INFO - üì• Snapshot tracked: bd85cdce-a05c-4f0d-97ab-02b750d2ca28 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:44:57,221 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:44:57,221 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:44:57,221 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:54:23,233 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:54:23,233 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:54:23,244 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:54:23,560 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:54:23,560 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:54:24,124 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:54:24,204 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:54:24,281 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:54:24,286 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:54:24,303 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:54:24,398 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:54:24,398 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:54:24,398 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:54:24,466 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:54:42,927 - webhook_logger - INFO - üì• Snapshot tracked: bd85cdce-a05c-4f0d-97ab-02b750d2ca28 | C98-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:54:42,927 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:54:42,928 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:54:42,928 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:54:45,671 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:54:45,699 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:54:45,700 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:54:45,701 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:54:45,702 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:54:45,702 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:54:45,703 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:54:45,710 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 23:54:48,890 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 25.65s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:54:48,890 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:54:48,890 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:54:48,891 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:54:48,892 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:54:48,894 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.2, Qty=0.002, PnL%=2.56% (websocket_helper.py:703)
2025-06-09 23:54:48,894 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 2.56% (websocket_helper.py:706)
2025-06-09 23:54:48,951 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 23:54:49,192 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:49,199 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.2'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('147.00'), 'usd_balance': Decimal('147.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36703')}} (websocket_helper.py:737)
2025-06-09 23:54:49,199 - webhook_logger - INFO - üîé C98-USD: Entry=0.0521, Now=0.0522, Qty=0.02, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:54:49,199 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:54:49,464 - webhook_logger - INFO - ‚ùå Order validation failed for C98-USD: ‚ö†Ô∏è C98-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:49,467 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'is_valid': False, 'error': 'Insufficient balance to sell C98.', 'code': '414', 'message': 'Order validation failed for C98-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'C98', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'C98-USD', 'side': 'sell', 'base_balance': Decimal('489.02'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è C98-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('52646')}} (websocket_helper.py:776)
2025-06-09 23:54:49,468 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.987, Qty=0.02, PnL%=-1.39% (websocket_helper.py:703)
2025-06-09 23:54:49,468 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.39% (websocket_helper.py:709)
2025-06-09 23:54:49,734 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:49,738 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('561079')}} (websocket_helper.py:776)
2025-06-09 23:54:49,738 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2678.33, Qty=0.06703810, PnL%=49.46% (websocket_helper.py:703)
2025-06-09 23:54:49,739 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:54:49,740 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:54:50,043 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:50,047 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('22971')}} (websocket_helper.py:776)
2025-06-09 23:54:50,047 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109326.78, Qty=0.00257846, PnL%=15.00% (websocket_helper.py:703)
2025-06-09 23:54:50,047 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:54:50,051 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:54:50,051 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.16s (listener.py:393)
2025-06-09 23:54:50,051 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:54:58,159 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 4.89s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:54:58,159 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:54:58,160 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:54:58,160 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:54:58,180 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:54:58,182 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.2, Qty=0.002, PnL%=2.56% (websocket_helper.py:703)
2025-06-09 23:54:58,182 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 2.56% (websocket_helper.py:706)
2025-06-09 23:54:58,487 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:58,489 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.2'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('147.00'), 'usd_balance': Decimal('147.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36836')}} (websocket_helper.py:737)
2025-06-09 23:54:58,490 - webhook_logger - INFO - üîé C98-USD: Entry=0.0521, Now=0.0522, Qty=0.02, PnL%=0.19% (websocket_helper.py:703)
2025-06-09 23:54:58,490 - webhook_logger - INFO - üõë SL trigger for C98-USD: 0.19% (websocket_helper.py:709)
2025-06-09 23:54:58,808 - webhook_logger - INFO - ‚ùå Order validation failed for C98-USD: ‚ö†Ô∏è C98-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:58,812 - webhook_logger - ERROR - ‚ùå SL order for C98-USD: {'is_valid': False, 'error': 'Insufficient balance to sell C98.', 'code': '414', 'message': 'Order validation failed for C98-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'C98', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'C98-USD', 'side': 'sell', 'base_balance': Decimal('489.02'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è C98-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('52646')}} (websocket_helper.py:776)
2025-06-09 23:54:58,812 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.987, Qty=0.02, PnL%=-1.39% (websocket_helper.py:703)
2025-06-09 23:54:58,812 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.39% (websocket_helper.py:709)
2025-06-09 23:54:59,097 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:59,102 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('561082')}} (websocket_helper.py:776)
2025-06-09 23:54:59,102 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2677.68, Qty=0.06703810, PnL%=49.42% (websocket_helper.py:703)
2025-06-09 23:54:59,103 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:54:59,103 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:54:59,396 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:54:59,401 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('147.0000'), 'usd_balance': Decimal('147.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('22971')}} (websocket_helper.py:776)
2025-06-09 23:54:59,401 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109310.14, Qty=0.00257846, PnL%=14.98% (websocket_helper.py:703)
2025-06-09 23:54:59,401 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:54:59,403 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:54:59,403 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.24s (listener.py:393)
2025-06-09 23:54:59,403 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:55:03,695 - webhook_logger - INFO - üü° Adjusted BUY limit price for MASK-USD: 1.65 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:55:07,415 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: MASK-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:1.65'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:56:54,912 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:56:54,914 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:56:54,925 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:767)
2025-06-09 23:56:55,202 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:56:55,202 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:56:55,754 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (4 open / 250 recent) (listener.py:894)
2025-06-09 23:56:55,855 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:56:55,862 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:56:55,883 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:56:56,042 - webhook_logger - INFO - ‚úÖ First message received from user channel: user (websocket_helper.py:219)
2025-06-09 23:57:45,856 - webhook_logger - INFO - üì• Snapshot tracked: c35f2e7b-17e0-40f8-9470-6c42a1bf49c0 | MASK-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:57:45,857 - webhook_logger - INFO - üì• Snapshot tracked: 72a1c748-b145-44c1-b8b1-0223dee50309 | DNT-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:57:45,857 - webhook_logger - INFO - üì• Snapshot tracked: 9c28a9d3-9323-4d4e-8eef-5e6710261a6d | INDEX-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:57:45,857 - webhook_logger - INFO - üì• Snapshot tracked: 64e9c7bf-d249-4aba-a983-552da1138297 | LQTY-USD | OPEN (websocket_market_manager.py:152)
2025-06-09 23:57:55,911 - webhook_logger - INFO - ‚úÖ First message received from user channel: subscriptions (websocket_helper.py:219)
2025-06-09 23:57:55,944 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:57:55,944 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:57:55,945 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:57:55,950 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:57:55,950 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:57:55,951 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 23:57:55,951 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 23:57:56,010 - webhook_logger - INFO - ‚úÖ First message received from user channel: heartbeats (websocket_helper.py:219)
2025-06-09 23:57:56,054 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 23:57:56,055 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 656, in __await_impl__
    await protocol.handshake(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 316, in handshake
    status_code, response_headers = await self.read_http_response()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 134, in read_http_response
    status_code, reason, headers = await read_response(self.reader)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 120, in read_response
    status_line = await read_line(stream)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/http.py", line 194, in read_line
    line = await stream.readline()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 524, in readline
    line = await self.readuntil(sep)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 616, in readuntil
    await self._wait_for_data('readuntil')
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/streams.py", line 501, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 23:57:56,107 - webhook_logger - INFO - ‚úÖ First message received from market channel: ticker_batch (websocket_helper.py:276)
2025-06-09 23:57:59,824 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 64.90s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:57:59,824 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:57:59,825 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:57:59,825 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:57:59,827 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:57:59,828 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.2, Qty=0.002, PnL%=2.56% (websocket_helper.py:703)
2025-06-09 23:57:59,828 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 2.56% (websocket_helper.py:706)
2025-06-09 23:58:00,160 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:58:00,162 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.2'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('122.00'), 'usd_balance': Decimal('172.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36836')}} (websocket_helper.py:737)
2025-06-09 23:58:00,163 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.987, Qty=0.02, PnL%=-1.39% (websocket_helper.py:703)
2025-06-09 23:58:00,163 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.39% (websocket_helper.py:709)
2025-06-09 23:58:00,544 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 23:58:00,544 - webhook_logger - INFO - Already subscribed to all requested user channels. Skipping subscription. (websocket_helper.py:358)
2025-06-09 23:58:00,544 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 23:58:00,565 - webhook_logger - INFO - ‚ùå Order validation failed for LQTY-USD: ‚ö†Ô∏è LQTY-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:58:00,567 - webhook_logger - ERROR - ‚ùå SL order for LQTY-USD: {'is_valid': False, 'error': 'Insufficient balance to sell LQTY.', 'code': '414', 'message': 'Order validation failed for LQTY-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'LQTY', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'LQTY-USD', 'side': 'sell', 'base_balance': Decimal('50.00'), 'base_bal_value': Decimal('0.01'), 'base_avail_to_trade': Decimal('0.02'), 'available_to_trade_crypto': Decimal('0.02'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('172.0000'), 'condition': '‚ö†Ô∏è LQTY-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 2, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.02'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('561082')}} (websocket_helper.py:776)
2025-06-09 23:58:00,567 - webhook_logger - INFO - üîé ETH-USD: Entry=1791.99, Now=2679.13, Qty=0.06703810, PnL%=49.51% (websocket_helper.py:703)
2025-06-09 23:58:00,567 - webhook_logger - INFO - üîé DNT-USD: Entry=0.0277, Now=0.0276, Qty=0.2, PnL%=-0.36% (websocket_helper.py:703)
2025-06-09 23:58:00,568 - webhook_logger - INFO - üõë SL trigger for DNT-USD: -0.36% (websocket_helper.py:709)
2025-06-09 23:58:00,629 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 23:58:00,849 - webhook_logger - INFO - ‚ùå Order validation failed for DNT-USD: ‚ö†Ô∏è DNT-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:58:00,851 - webhook_logger - ERROR - ‚ùå SL order for DNT-USD: {'is_valid': False, 'error': 'Insufficient balance to sell DNT.', 'code': '414', 'message': 'Order validation failed for DNT-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'DNT', 'trigger': {'trigger': 'SL', 'trigger_note': 'stop_loss=-0.0075%'}, 'trading_pair': 'DNT-USD', 'side': 'sell', 'base_balance': Decimal('1805.2'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.2'), 'available_to_trade_crypto': Decimal('0.2'), 'usd_avail_balance': Decimal('122.0000'), 'usd_balance': Decimal('172.0000'), 'condition': '‚ö†Ô∏è DNT-USD has insufficient balance to sell.', 'quote_decimal': 4, 'base_decimal': 1, 'order_amount_fiat': Decimal('50.0000'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.2'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('22971')}} (websocket_helper.py:776)
2025-06-09 23:58:00,851 - webhook_logger - INFO - üîé BTC-USD: Entry=95065.47, Now=109289.6, Qty=0.00257846, PnL%=14.96% (websocket_helper.py:703)
2025-06-09 23:58:00,852 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:718)
2025-06-09 23:58:00,853 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets completed (websocket_helper.py:645)
2025-06-09 23:58:00,853 - webhook_logger - INFO - ‚è± monitor_and_update_active_orders took 1.03s (listener.py:393)
2025-06-09 23:58:00,853 - webhook_logger - ERROR - üö® refresh_market_data loop exited unexpectedly! (listener.py:409)
NoneType: None
2025-06-09 23:58:01,630 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 23:58:01,631 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 23:58:01,632 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 23:58:06,259 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 5.40s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:363)
2025-06-09 23:58:06,260 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:386)
2025-06-09 23:58:06,260 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 23:58:06,260 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 23:58:06,261 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 23:58:06,263 - webhook_logger - INFO - üîé INDEX-USD: Entry=1.17, Now=1.2, Qty=0.002, PnL%=2.56% (websocket_helper.py:703)
2025-06-09 23:58:06,263 - webhook_logger - INFO - üí∞ TP trigger for INDEX-USD: 2.56% (websocket_helper.py:706)
2025-06-09 23:58:10,425 - webhook_logger - INFO - üü° Adjusted BUY limit price for KRL-USD: 0.3416 (Attempt 1) (webhook_order_types.py:353)
2025-06-09 23:58:14,820 - webhook_logger - WARNING - ‚ùóÔ∏è Order Rejected Limit Order: KRL-USD:{'trigger': 'passive_buy', 'trigger_note': 'price:0.3398'} (webhook_order_types.py:389)
NoneType: None
2025-06-09 23:58:14,882 - webhook_logger - INFO - ‚ùå Order validation failed for INDEX-USD: ‚ö†Ô∏è INDEX-USD has insufficient balance to sell. (webhook_validate_orders.py:494)
2025-06-09 23:58:14,884 - webhook_logger - ERROR - ‚ùå TP order for INDEX-USD: {'is_valid': False, 'error': 'Insufficient balance to sell INDEX.', 'code': '414', 'message': 'Order validation failed for INDEX-USD', 'details': {'Order Id': None, 'source': 'websocket', 'asset': 'INDEX', 'trigger': {'trigger': 'TP', 'trigger_note': 'price=1.2'}, 'trading_pair': 'INDEX-USD', 'side': 'sell', 'base_balance': Decimal('38.778'), 'base_bal_value': Decimal('0.00'), 'base_avail_to_trade': Decimal('0.002'), 'available_to_trade_crypto': Decimal('0.002'), 'usd_avail_balance': Decimal('122.00'), 'usd_balance': Decimal('172.00'), 'condition': '‚ö†Ô∏è INDEX-USD has insufficient balance to sell.', 'quote_decimal': 2, 'base_decimal': 3, 'order_amount_fiat': Decimal('50.00'), 'order_amount_crypto': Decimal('0'), 'sell_amount': Decimal('0.002'), 'maker_fee': Decimal('0.0015'), 'taker_fee': Decimal('0.0025'), 'Open Orders': Empty DataFrame
Columns: []
Index: [], '24h Quote Volume': Decimal('36836')}} (websocket_helper.py:737)
2025-06-09 23:58:14,885 - webhook_logger - INFO - üîé LQTY-USD: Entry=1.0009, Now=0.985, Qty=0.02, PnL%=-1.59% (websocket_helper.py:703)
2025-06-09 23:58:14,885 - webhook_logger - INFO - üõë SL trigger for LQTY-USD: -1.59% (websocket_helper.py:709)
