2025-06-09 09:01:37,838 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:01:37,840 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:01:37,858 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:775)
2025-06-09 09:01:38,193 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:01:38,193 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:01:40,411 - webhook_logger - INFO - ‚úÖ sync_open_orders ‚Üí upserted 250 rows (0 open / 250 recent) (listener.py:902)
2025-06-09 09:01:40,663 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:01:40,666 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:01:40,672 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:01:40,679 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:01:40,688 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:01:40,754 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:01:40,756 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:01:40,757 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:01:41,570 - webhook_logger - INFO - ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è  update_market_data took 3.71s    ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è (listener.py:364)
2025-06-09 09:01:41,570 - webhook_logger - INFO - ‚è± update_market_data (shared_data_manager) took 0.00s (listener.py:387)
2025-06-09 09:01:41,570 - webhook_logger - INFO - ‚úÖ monitor_untracked_assets is <class 'method'> (websocket_helper.py:634)
2025-06-09 09:01:41,571 - webhook_logger - INFO - üß™ About to await monitor_untracked_assets (websocket_helper.py:635)
2025-06-09 09:01:41,572 - webhook_logger - INFO - üì± Starting monitor_untracked_assets (websocket_helper.py:656)
2025-06-09 09:01:41,573 - webhook_logger - INFO - üîé INDEX/USD: Entry=1.17, Now=1.21, Qty=43.1049, PnL%=3.42% (websocket_helper.py:701)
2025-06-09 09:01:41,574 - webhook_logger - INFO - üí∞ TP trigger for INDEX/USD: 3.42% (websocket_helper.py:704)
2025-06-09 09:01:41,680 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 09:01:41,680 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 09:01:41,681 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 09:01:41,681 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 09:01:41,690 - webhook_logger - INFO - ‚ö° Subscribing to Market Channels... (listener.py:107)
2025-06-09 09:01:41,691 - webhook_logger - INFO - ÔøΩ Subscribing to Market Channels: ['ticker_batch', 'heartbeats'] (websocket_helper.py:320)
2025-06-09 09:01:41,691 - webhook_logger - WARNING - ‚ö†Ô∏è No valid product IDs found. Subscription aborted. (websocket_helper.py:323)
2025-06-09 09:01:41,691 - webhook_logger - INFO - Listening on wss://advanced-trade-ws.coinbase.com (listener.py:110)
2025-06-09 09:24:00,319 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:24:00,319 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:24:17,690 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:775)
2025-06-09 09:24:17,694 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:24:17,696 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1036, in create_connection
    infos = await self._ensure_resolved(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1418, in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 863, in getaddrinfo
    return await self.run_in_executor(
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:24:18,369 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:24:18,370 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:24:24,901 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:24:24,908 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:24:24,911 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:24:24,914 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:24:25,052 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:24:25,054 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:24:25,054 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
2025-06-09 09:24:25,075 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:36:21,269 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:36:21,269 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:36:22,996 - webhook_logger - INFO - üîÑ Starting sync_open_orders cycle‚Ä¶ (listener.py:775)
2025-06-09 09:36:23,615 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'ticker_batch' (websocket_helper.py:246)
2025-06-09 09:36:23,615 - webhook_logger - WARNING - ‚ö†Ô∏è No message ever received from market channel 'heartbeats' (websocket_helper.py:246)
2025-06-09 09:36:31,494 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1103, in create_connection
    transport, protocol = await self._create_connection_transport(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1133, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:36:31,495 - webhook_logger - ERROR - Unexpected WebSocket error, check NGROK connection:  (listener.py:131)
Traceback (most recent call last):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 654, in __await_impl__
    _transport, protocol = await self._create_connection()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1103, in create_connection
    transport, protocol = await self._create_connection_transport(
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/asyncio/base_events.py", line 1133, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/listener.py", line 97, in connect_websocket
    async with websockets.connect(ws_url, max_size = 2 ** 24 ) as ws:   # 16 MB
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 635, in __aenter__
    return await self
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/legacy/client.py", line 652, in __await_impl__
    async with asyncio_timeout(self.open_timeout):
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 181, in __aexit__
    self._do_exit(exc_type)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/websockets/asyncio/async_timeout.py", line 268, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2025-06-09 09:36:31,927 - webhook_logger - INFO - Connected to wss://advanced-trade-ws.coinbase.com (listener.py:98)
2025-06-09 09:36:31,943 - webhook_logger - INFO - Connected to wss://advanced-trade-ws-user.coinbase.com (listener.py:98)
2025-06-09 09:36:31,945 - webhook_logger - ERROR - User subscription error: 'symbol' (websocket_helper.py:388)
Traceback (most recent call last):
  File "/Users/Manny/Python_Projects/BotTrader/webhook/websocket_helper.py", line 372, in subscribe_user
    self.product_ids = market_data.get('usd_pairs_cache')['symbol'].str.replace('/', '-', regex=False).tolist()
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "/Users/Manny/opt/anaconda3/envs/TradeBot/lib/python3.10/site-packages/pandas/core/indexes/range.py", line 417, in get_loc
    raise KeyError(key)
KeyError: 'symbol'
2025-06-09 09:36:31,948 - webhook_logger - INFO - Listening on wss://advanced-trade-ws-user.coinbase.com (listener.py:110)
