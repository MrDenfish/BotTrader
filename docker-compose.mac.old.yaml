
services:
  sighook:
    build:
      context: .
      dockerfile: sighook/Dockerfile
    volumes:
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/.env_tradebot:/app/.env_tradebot
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/data:/app/data  # location for SQLite DB
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/Shared_Utils:/app/Shared_Utils  # Mount the Shared_Utils directory
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/sighook/sighook_api_key.json
    env_file:
      - ./.env_tradebot
    ports:
      - "5001:5001"
    networks:
      - traderbot_network

  webhook:
    build:
      context: .
      dockerfile: webhook/Dockerfile
    volumes:
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/.env_tradebot:/app/.env_tradebot
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/data:/app/data
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/Shared_Utils:/app/Shared_Utils  # Mount the Shared_Utils directory
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/webhook/webhook_api_key.json
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/webhook/tb_api_key.json
      - /Users/Manny/Library/CloudStorage/Dropbox/Coins/BotTraderv3.0/webhook/websocket_api_key.json
    env_file:
      - ./.env_tradebot
    ports:
      - "80:80"
    networks:
      - traderbot_network

networks:
  traderbot_network:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: "172.24.2.0/29"

